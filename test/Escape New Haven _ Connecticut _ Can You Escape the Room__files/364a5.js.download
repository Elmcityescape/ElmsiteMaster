var JSON;if(!JSON){JSON={}}(function(){"use strict";function f(n){return n<10?'0'+n:n}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'Z':null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key)}
if(typeof rep==='function'){value=rep.call(holder,key,value)}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null'}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null'}
v=partial.length===0?'[]':gap?'[\n'+gap+partial.join(',\n'+gap)+'\n'+mind+']':'['+partial.join(',')+']';gap=mind;return v}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==='string'){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v)}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+mind+'}':'{'+partial.join(',')+'}';gap=mind;return v}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' '}}else if(typeof space==='string'){indent=space}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify')}
return str('',{'':value})}}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}
return reviver.call(holder,key,value)}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4)})}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j}
throw new SyntaxError('JSON.parse')}}}());GlobalData={};UploadStates={};Code_Initializators=[];GlobalData.filestatematch={};GlobalData.filestatematch.success=[0,1,2,2];GlobalData.filestatematch.warning=[1,1,2,2];GlobalData.filestatematch.error1=[3,3,2,3];GlobalData.filestatematch.error2=[2,2,2,3];GlobalData.UploadInProgressString="";GlobalData.FreeChangeHandler=!1;wfu_Check_Browser_Capabilities();function wfu_Initialize_Consts(consts){if(typeof GlobalData.consts!="undefined")return;GlobalData.consts=new Object();var consts_arr=consts.split(";");var const_arr;for(var i=0;i<consts_arr.length;i++){const_txt=consts_arr[i].split(":");GlobalData.consts[wfu_plugin_decode_string(const_txt[0])]=wfu_plugin_decode_string(const_txt[1])}}
function wfu_Load_Code_Connectors(sid){if(typeof wfu_Code_Objects=="undefined")wfu_Code_Objects={};wfu_Code_Objects[sid]=new wfu_Code_Object(sid);for(var i=0;i<Code_Initializators.length;i++)
wfu_Code_Objects[sid].additem(Code_Initializators[i](sid));}
function wfu_Code_Object(sid){this.sid=sid;this.items=[];this._calc_prioritized_list=function(section){var item,list=[],idlist=[],nolist=[],priority;for(var i=0;i<this.items.length;i++){item=this.items[i];if(item[section]){priority=-1;if(item.priority)priority=item.priority;if(item[section].priority)priority=item[section].priority;if(priority>=0){list.push(priority);idlist.push(i)}
else nolist.push(i)}}
for(var i=1;i<list.length;i++)
for(var j=i;j<list.length;j++)
if(list[j]<list[i-1]){var temp=list[j];list[j]=list[i-1];list[i-1]=temp;var temp=idlist[j];idlist[j]=idlist[i-1];idlist[i-1]=temp}
return idlist.concat(nolist)};this.additem=function(item){this.items.push(item)};this.apply_filters=function(section,val){if(typeof val=="undefined")return null;var idlist=this._calc_prioritized_list(section);if(idlist.length==0)return val;for(var i=0;i<idlist.length;i++){var item=this.items[idlist[i]];var func=null;if(typeof item[section]=="function")func=item[section];else if(typeof item[section].func=="function")func=item[section].func;if(func!=null){val=func.apply(this,Array.prototype.slice.call(arguments,1));arguments[1]=val}}
return val};this.do_action=function(section){var idlist=this._calc_prioritized_list(section);if(idlist.length==0)return;for(var i=0;i<idlist.length;i++){var item=this.items[idlist[i]];var func=null;if(typeof item[section]=="function")func=item[section];else if(typeof item[section].func=="function")func=item[section].func;if(func!=null)
func.apply(this,Array.prototype.slice.call(arguments,1))}}}
function wfu_plugin_load_action(sid){wfu_install_unload_hook();var editbox=document.getElementById("selectsubdiredit_"+sid);if(editbox&&editbox.style.display!="none"){wfu_attach_element_handlers(editbox,new Function("wfu_selectsubdiredit_change("+sid+");"))}}
function wfu_install_unload_hook(){window.onbeforeunload=wfu_unload_hook}
function wfu_unload_hook(){if(GlobalData.UploadInProgressString!="")
if(GlobalData.UploadInProgressString.trim()!=""){return GlobalData.consts.wfu_pageexit_prompt}}
function wfu_Check_Browser_Capabilities(){if(typeof wfu_BrowserCaps!="undefined")return;wfu_BrowserCaps=new Object();var xmlhttp=wfu_GetHttpRequestObject();wfu_BrowserCaps.supportsAJAX=(xmlhttp!=null);wfu_BrowserCaps.supportsUploadProgress=!!(xmlhttp&&('upload'in xmlhttp)&&('onprogress'in xmlhttp.upload));var fd=null;try{var fd=new FormData()}
catch(e){}
wfu_BrowserCaps.supportsHTML5=(fd!=null);var e=document.createElement("iframe");wfu_BrowserCaps.supportsIFRAME=(e!=null);wfu_BrowserCaps.supportsDRAGDROP=(window.FileReader?!0:!1);wfu_BrowserCaps.supportsAnimation=wfu_check_animation();wfu_BrowserCaps.isSafari=(Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor')>0)}
function wfu_check_animation(){var animation=!1,animationstring='animation',keyframeprefix='',domPrefixes='Webkit Moz O ms Khtml'.split(' '),pfx='';var elm=document.createElement('DIV');if(elm.style.animationName){animation=!0}
if(animation===!1){for(var i=0;i<domPrefixes.length;i++){if(elm.style[domPrefixes[i]+'AnimationName']!==undefined){pfx=domPrefixes[i];animationstring=pfx+'Animation';keyframeprefix='-'+pfx.toLowerCase()+'-';animation=!0;break}}}
return animation}
function wfu_join_strings(delimeter){var args=[].slice.call(arguments);var str="";var delim="";for(var i=1;i<args.length;i++){if(str==""||args[i]=="")delim="";else delim=delimeter;str+=delim+args[i]}
return str}
function wfu_plugin_decode_string(str){var i=0;var newstr="";var num,val;while(i<str.length){num=parseInt(str.substr(i,2),16);if(num<128)val=num;else if(num<224)val=((num&31)<<6)+(parseInt(str.substr((i+=2),2),16)&63);else val=((num&15)<<12)+((parseInt(str.substr((i+=2),2),16)&63)<<6)+(parseInt(str.substr((i+=2),2),16)&63);newstr+=String.fromCharCode(val);i+=2}
return newstr}
function wfu_plugin_encode_string(str){var i=0;var newstr="";var hex="";for(i=0;i<str.length;i++){num=str.charCodeAt(i);if(num>=2048)num=(((num&16773120)|917504)<<4)+(((num&4032)|8192)<<2)+((num&63)|128);else if(num>=128)num=(((num&65472)|12288)<<2)+((num&63)|128);hex=num.toString(16);if(hex.length==1||hex.length==3||hex.length==5)hex="0"+hex;newstr+=hex}
return newstr}
function wfu_randomString(len){var chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";var string_length=len;var randomstring='';for(var i=0;i<string_length;i++){var rnum=Math.floor(Math.random()*chars.length);randomstring+=chars.substring(rnum,rnum+1)}
return randomstring}
function wfu_addEventHandler(obj,evt,handler){if(obj.addEventListener){obj.addEventListener(evt,handler,!1)}
else if(obj.attachEvent){obj.attachEvent('on'+evt,handler)}
else{obj['on'+evt]=handler}}
function wfu_attach_element_handlers(item,handler){var elem_events=['DOMAttrModified','textInput','input','change','keypress','paste','focus','propertychange'];for(var i=0;i<elem_events.length;i++)
wfu_addEventHandler(item,elem_events[i],handler);}
function wfu_GetHttpRequestObject(){var xhr=null;try{xhr=new XMLHttpRequest()}
catch(e){try{xhr=new ActiveXObject("Msxml2.XMLHTTP")}
catch(e2){try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}
catch(e){}}}
if(xhr==null&&window.createRequest){try{xmlhttp=window.createRequest()}
catch(e){}}
return xhr}
function wfu_filedetails_showhide(sid,fileid,show){var item1=document.getElementById('wfu_messageblock_arrow_'+sid+'_'+fileid);var item2=document.getElementById('wfu_messageblock_arrow_'+sid+'_up_'+fileid);var item3=document.getElementById('wfu_messageblock_arrow_'+sid+'_down_'+fileid);var item4=document.getElementById('wfu_messageblock_subheader_'+sid+'_'+fileid);var item5=document.getElementById('wfu_messageblock_header_'+sid+'_state_'+fileid);if(show){item2.style.display="";item3.style.display="none";item4.style.display="";item5.value=""}
else{item2.style.display="none";item3.style.display="";item4.style.display="none";item5.value="none"}}
function wfu_get_file_ids(sid){var message_table=document.getElementById('wfu_messageblock_'+sid);var next_block=document.getElementById('wfu_messageblock_subheader_'+sid).nextSibling;var prefix='wfu_messageblock_'+sid+'_';var file_ids=[];while(next_block!=null){if(next_block.nodeType===1&&next_block.id.substr(0,prefix.length)==prefix)
file_ids.push(next_block.id.substr(next_block.id.lastIndexOf("_")+1));next_block=next_block.nextSibling}
return file_ids}
function wfu_get_filelist(sid,include_filearray){include_filearray=typeof include_filearray!=='undefined'?include_filearray:!0;var inputfile=document.getElementById("upfile_"+sid);var farr=inputfile.files;if(!farr){if(inputfile.value)farr=[{name:inputfile.value}];else farr=[]}
if(include_filearray&&typeof inputfile.filearray!=="undefined")farr=inputfile.filearray;return farr}
function wfu_add_files(sid,files){var inputfile=document.getElementById("upfile_"+sid);if(typeof inputfile.filearray=="undefined"){inputfile.filearray=Array();inputfile.filearrayprops=Array()}
document.getElementById("uploadform_"+sid).reset();inputfile.filearray.length=inputfile.filearrayprops.length=0;for(var i=0;i<files.length;i++){inputfile.filearray.push(files[i].file);inputfile.filearrayprops.push(files[i].props)}}
function wfu_filedetails_toggle(sid,fileid){var item1=document.getElementById('wfu_messageblock_arrow_'+sid+'_'+fileid);var item2=document.getElementById('wfu_messageblock_arrow_'+sid+'_up_'+fileid);wfu_filedetails_showhide(sid,fileid,item2.style.display=="none")}
function wfu_headerdetails_showhide(sid,show){var item1=document.getElementById('wfu_messageblock_arrow_'+sid);var item2=document.getElementById('wfu_messageblock_arrow_'+sid+'_up');var item3=document.getElementById('wfu_messageblock_arrow_'+sid+'_down');var item4=document.getElementById('wfu_messageblock_subheader_'+sid);var item5=document.getElementById('wfu_messageblock_subheader_'+sid+'_message');var item6=document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessage');var item7=document.getElementById('wfu_messageblock_header_'+sid+'_state');var file_ids=wfu_get_file_ids(sid);if(show){item2.style.display="";item3.style.display="none";if(item5.style.display!="none"||item6.style.display!="none")item4.style.display="";item7.value="";for(var i=0;i<file_ids.length;i++){document.getElementById('wfu_messageblock_'+sid+'_'+file_ids[i]).style.display="";document.getElementById('wfu_messageblock_subheader_'+sid+'_'+file_ids[i]).style.display=document.getElementById('wfu_messageblock_header_'+sid+'_state_'+file_ids[i]).value}}
else{item2.style.display="none";item3.style.display="";item4.style.display="none";item7.value="none";for(var i=0;i<file_ids.length;i++){document.getElementById('wfu_messageblock_'+sid+'_'+file_ids[i]).style.display="none";document.getElementById('wfu_messageblock_subheader_'+sid+'_'+file_ids[i]).style.display="none"}}}
function wfu_headerdetails_toggle(sid){var item1=document.getElementById('wfu_messageblock_arrow_'+sid);var item2=document.getElementById('wfu_messageblock_arrow_'+sid+'_up');wfu_headerdetails_showhide(sid,item2.style.display=="none")}
function wfu_attach_cancel_event(sid,session_token,unique_upload_id,JSONobj){var textbox=document.getElementById('fileName_'+sid);if(!textbox)return;textbox.onkeyup=function(e){if(e.keyCode!=27||!GlobalData[sid]||GlobalData[sid].xhrs.length==0)return;var answer=confirm(GlobalData.consts.cancel_upload_prompt);if(answer==!0){var farr=wfu_get_filelist(sid);var firstxhr=[];var filename=[];for(var i=0;i<farr.length;i++){firstxhr.push(null);filename.push(farr[i].name)}
for(var i=0;i<GlobalData[sid].xhrs.length;i++){var file_ind=GlobalData[sid].xhrs[i].file_id-1;if(file_ind>=0&&firstxhr[file_ind]==null)
firstxhr[file_ind]=GlobalData[sid].xhrs[i]}
if(JSONobj.debugmode=='true')console.log("upload cancelled!");for(var i=0;i<firstxhr.length;i++){if(firstxhr[i]==null){firstxhr[i]=wfu_GetHttpRequestObject();if(firstxhr[i]!=null)
wfu_initialize_fileupload_xhr(firstxhr[i],sid,session_token,unique_upload_id,JSONobj,i,filename[i])}
if(firstxhr[i]!=-1){var evt={target:{responseText:"force_cancel_code",shortcode_id:sid}};wfu_uploadComplete.call(firstxhr[i],evt)}}
textbox.onkeyup=null}}}
function wfu_dettach_cancel_event(sid){var textbox=document.getElementById('fileName_'+sid);if(textbox)textbox.onkeyup=null}
function wfu_selectbutton_changed(sid,usefilearray){if(!wfu_BrowserCaps.supportsAJAX||!wfu_BrowserCaps.supportsHTML5)usefilearray=0;var inputfile=document.getElementById("upfile_"+sid);var farr=wfu_get_filelist(sid,!1);if(usefilearray==1){if(typeof inputfile.filearray=="undefined"){inputfile.filearray=Array()}
for(var i=0;i<farr.length;i++){inputfile.filearray.push(farr[i])}}
else{if(typeof inputfile.filearray!="undefined"){delete inputfile.filearray}}
wfu_update_filename_text(sid)}
function wfu_selectbutton_clicked(sid){var message_container=document.getElementById("wordpress_file_upload_message_"+sid);if(message_container)message_container.style.display="none";wfu_reset_message(sid);document.getElementById("upfile_"+sid).value="";var ftext=document.getElementById("fileName_"+sid);if(ftext){ftext.value="";ftext.className="file_input_textbox"}}
function wfu_update_uploadbutton_status(sid){var uploadbutton=document.getElementById("upload_"+sid);var allownofile=document.getElementById("wordpress_file_upload_"+sid+"_nofile").value;if(uploadbutton){var farr=wfu_get_filelist(sid);var status=(farr.length>0||allownofile=="1");status=wfu_Code_Objects[sid].apply_filters("uploadbutton_status",status);uploadbutton.disabled=!status}}
function wfu_update_filename_text(sid){var ftext=document.getElementById("fileName_"+sid);if(ftext){var farr=wfu_get_filelist(sid);var txt='';for(var i=0;i<farr.length;i++){if(txt!='')txt+=', ';txt+=farr[i].name.replace(/c:\\fakepath\\/i,"")}
ftext.value=txt}}
function wfu_selectsubdir_check(sid){var sel=document.getElementById("selectsubdir_"+sid);if(!sel)return!0;var editbox=document.getElementById("selectsubdiredit_"+sid);var editable=(editbox.style.display!="none");if(editable&&sel.selectedIndex>0){editbox.value=sel.value.replace(/^\s+/,"");editbox.className="file_item_clean_match subfolder_autoplus_match";wfu_selectsubdiredit_change(sid)}
if(editable)document.getElementById('hiddeninput_'+sid).value=editbox.value;else document.getElementById('hiddeninput_'+sid).value=sel.selectedIndex;if((!editable&&sel.selectedIndex==0)||(editable&&(editbox.value==''||editbox.className=="file_item_clean_empty subfolder_autoplus_empty"))){if(editable){sel.className='subfolder_autoplus_dropdown_prompt';editbox.value="";GlobalData.FreeChangeHandler=!0;editbox.className="file_item_clean_prompt subfolder_autoplus_prompt";GlobalData.FreeChangeHandler=!1}
else sel.className='file_item_clean_prompt subfolder_dropdown_prompt';return!1}
else{if(editable)sel.className='subfolder_autoplus_dropdown';else sel.className='file_item_clean subfolder_dropdown';if(editable&&editbox.className=="file_item_clean_prompt subfolder_autoplus_prompt")editbox.className="file_item_clean subfolder_autoplus";sel.options[0].style.display="none";return!0}}
function wfu_selectsubdiredit_enter(sid){var sel=document.getElementById("selectsubdir_"+sid);var editbox=document.getElementById("selectsubdiredit_"+sid);if(editbox.className=="file_item_clean_empty subfolder_autoplus_empty")editbox.value="";sel.className='subfolder_autoplus_dropdown';editbox.className="file_item_clean subfolder_autoplus"}
function wfu_selectsubdiredit_exit(sid){var editbox=document.getElementById("selectsubdiredit_"+sid);if(editbox.value==""){editbox.value=GlobalData.consts.wfu_subdir_typedir;editbox.className="file_item_clean_empty subfolder_autoplus_empty"}}
function wfu_selectsubdiredit_change(sid){if(GlobalData.FreeChangeHandler)return;var sel=document.getElementById("selectsubdir_"+sid);var editbox=document.getElementById("selectsubdiredit_"+sid);if(editbox.style.display=="none")return;if(editbox.className=="file_item_clean_empty subfolder_autoplus_empty"){sel.selectedIndex=0;document.getElementById('hiddeninput_'+sid).value='';return}
document.getElementById('hiddeninput_'+sid).value=editbox.value;var found=!1,opt;for(var i=1;i<sel.options.length;i++){opt=sel.options[i].value.replace(/^\s+/,"").toLowerCase();if(editbox.value.length>=3){if(opt.substr(0,editbox.value.length)==editbox.value.toLowerCase())sel.options[i].style.display='block';else sel.options[i].style.display='none'}
else sel.options[i].style.display='block';if(sel.options[i].value.replace(/^\s+/,"")==editbox.value){sel.selectedIndex=i;editbox.className="file_item_clean_match subfolder_autoplus_match";found=!0}}
if(!found){sel.selectedIndex=0;editbox.className="file_item_clean subfolder_autoplus"}}
function wfu_selectsubdir_disable_onoff(sid,status){var sel=document.getElementById("selectsubdir_"+sid);if(!sel)return!0;var editbox=document.getElementById("selectsubdiredit_"+sid);var editable=(editbox.style.display!="none");sel.disabled=status;if(editable)editbox.disabled=status}
function wfu_userdata_focused(obj){var wrapper=document.getElementById(obj.id.replace('_field_','_fieldwrapper_'));if(wrapper.className=='file_userdata_fieldwrapper_required_empty'){wrapper.className='file_userdata_fieldwrapper_required';var msg_hint=document.getElementById(obj.id.replace('_field_','_hint_'));msg_hint.style.display="none"}}
function wfu_Redirect(link){window.location=link}
function wfu_loadStart(evt){}
function wfu_update_upload_metrics(sid){var totalsize=0;var totalloaded=0;var totaldelta=0;var metrics=Array();var farr=wfu_get_filelist(sid);for(var i=0;i<farr.length;i++)metrics[i]={size:farr[i].size,aborted:!1,loaded:0,delta:0};for(var i=0;i<GlobalData[sid].xhrs.length;i++){var file_id=GlobalData[sid].xhrs[i].file_id;if(file_id>0&&GlobalData[sid].xhrs[i].aborted)metrics[file_id-1].aborted=!0}
for(var i=0;i<GlobalData[sid].xhrs.length;i++){var file_id=GlobalData[sid].xhrs[i].file_id;if(file_id>0&&!metrics[file_id-1].aborted){metrics[file_id-1].size=Math.max(GlobalData[sid].xhrs[i].totalsize,metrics[file_id-1].size);metrics[file_id-1].loaded+=GlobalData[sid].xhrs[i].sizeloaded;metrics[file_id-1].delta+=Math.max(GlobalData[sid].xhrs[i].deltaloaded,0)}}
for(var i=0;i<farr.length;i++){var Gm=GlobalData[sid].metrics[i];if(!metrics[i].aborted&&metrics[i].size>0){Gm.size=metrics[i].size;if(GlobalData.consts.wfu_uploadprogress_mode=="incremental")
Gm.progress_pos=Math.min(Gm.progress_pos+(1-Gm.progress_pos)*metrics[i].delta/(Gm.size-Gm.loaded),1.0);else Gm.progress_pos=metrics[i].loaded/metrics[i].size;Gm.loaded=metrics[i].loaded;totalsize+=Gm.size;totalloaded+=Gm.loaded;totaldelta+=metrics[i].delta}
else{Gm.size=0;Gm.progress_pos=0.0;Gm.loaded=0}}
var Gm=GlobalData[sid].metricstotal;Gm.size=totalsize;if(GlobalData.consts.wfu_uploadprogress_mode=="incremental")
Gm.progress_pos=Math.min(Gm.progress_pos+(1-Gm.progress_pos)*totaldelta/(Gm.size-Gm.loaded),1.0);else Gm.progress_pos=totalloaded/totalsize;Gm.loaded=totalloaded}
function wfu_uploadProgress(evt,sid,xhrid,debugmode){if(debugmode&&typeof this.xhr=="undefined"){console.log("total="+evt.total+", loaded="+evt.loaded);console.log(evt)}
var this_xhr=GlobalData[sid].xhrs[xhrid];if(this_xhr.file_id==0)return;var percentComplete=0;var delta=0;var simplebar=document.getElementById('progressbar_'+sid+'_animation');if(evt.lengthComputable){this_xhr.deltaloaded=evt.loaded-this_xhr.sizeloaded;this_xhr.sizeloaded=evt.loaded;if(this_xhr.size<evt.total&&evt.total>0){delta=evt.total-this_xhr.size;this_xhr.deltasize+=delta;this_xhr.size+=delta;for(var i=0;i<GlobalData[sid].xhrs.length;i++)
if(GlobalData[sid].xhrs[i].file_id==this_xhr.file_id){GlobalData[sid].xhrs[i].totalsize+=delta}}
wfu_update_upload_metrics(sid);this_xhr.deltaloaded=0;if(simplebar){percentComplete=Math.round(GlobalData[sid].metricstotal.progress_pos*100);simplebar.style.width=percentComplete.toString()+'%'}}
else{if(simplebar)simplebar.style.width='0%'}}
function wfu_notify_WPFilebase(params_index,session_token){var xhr=wfu_GetHttpRequestObject();if(xhr==null){var i=document.createElement("iframe");i.style.display="none";i.src=GlobalData.consts.ajax_url+"?action=wfu_ajax_action_notify_wpfilebase&params_index="+params_index+"&session_token="+session_token;document.body.appendChild(i);return}
var url=GlobalData.consts.ajax_url;params=new Array(3);params[0]=new Array(2);params[0][0]='action';params[0][1]='wfu_ajax_action_notify_wpfilebase';params[1]=new Array(2);params[1][0]='params_index';params[1][1]=params_index;params[2]=new Array(2);params[2][0]='session_token';params[2][1]=session_token;var parameters='';for(var i=0;i<params.length;i++){parameters+=(i>0?"&":"")+params[i][0]+"="+encodeURI(params[i][1])}
xhr.open("POST",url,!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){}
xhr.send(parameters)}
function wfu_send_email_notification(sid,unique_id,params_index,session_token,notify_only_filename_list,notify_target_path_list,notify_attachment_list,debugmode,is_admin){var xhr=wfu_GetHttpRequestObject();if(xhr==null){return}
var url=GlobalData.consts.ajax_url;var userdata_count=wfu_get_userdata_count(sid);params=new Array(7+userdata_count);params[0]=new Array(2);params[0][0]='action';params[0][1]='wfu_ajax_action_send_email_notification';params[1]=new Array(2);params[1][0]='params_index';params[1][1]=params_index;params[2]=new Array(2);params[2][0]='session_token';params[2][1]=session_token;params[3]=new Array(2);params[3][0]='only_filename_list';params[3][1]=notify_only_filename_list;params[4]=new Array(2);params[4][0]='target_path_list';params[4][1]=notify_target_path_list;params[5]=new Array(2);params[5][0]='attachment_list';params[5][1]=notify_attachment_list;params[6]=new Array(2);params[6][0]='uniqueuploadid_'+sid;params[6][1]=unique_id;for(var i=0;i<userdata_count;i++){params[7+i]=new Array(2);params[7+i][0]='userdata_'+i;params[7+i][1]=wfu_plugin_encode_string(document.getElementById('hiddeninput_'+sid+'_userdata_'+i).value)}
var parameters='';for(var i=0;i<params.length;i++){parameters+=(i>0?"&":"")+params[i][0]+"="+encodeURI(params[i][1])}
wfu_initialize_fileupload_xhr(xhr,sid,session_token,unique_id,{params_index:params_index,debugmode:debugmode,is_admin:is_admin,fail_colors:GlobalData.consts.fail_colors,error_header:""},-1,"");xhr.error_adminmessage_unknown="";xhr.open("POST",url,!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.addEventListener("load",wfu_uploadComplete,!1);xhr.addEventListener("error",wfu_uploadFailed,!1);xhr.addEventListener("abort",wfu_uploadCanceled,!1);xhr.send(parameters)}
function wfu_format_debug_data(data,title){output='<label class="file_messageblock_subheader_debugmessage_label">';output+='Debug Data'+title;output+='</label>';output+='<div class="file_messageblock_subheader_debugmessage_container">';output+=data;output+='</div>';return output}
function wfu_uploadComplete(evt){var d=new Date();var sid=this.shortcode_id;var i=this.file_id;var last=!1;var js_script_enc="";var upload_params="";var safe_params="";var file_status="unknown";var uploaded_file_props="";var debug_data="";var success_txt="wfu_fileupload_success:";this.loading=!1;this.end_time=d.getTime();var txt=evt.target.responseText;var result_data=txt;var error_code='error';if(txt!=-1){if(txt.indexOf('force_errorabort_code')>-1){error_code='errorabort';txt=txt.replace('force_errorabort_code','')}
if(txt.indexOf('force_cancel_code')>-1){error_code='errorcancel';txt=txt.replace('force_cancel_code','')}}
if(txt!=-1){var pos=txt.indexOf(success_txt);if(pos>-1){if(this.debugmode=="true")debug_data=txt.substr(0,pos);result_data=txt.substr(pos+success_txt.length);pos=result_data.indexOf(":");js_script_enc=result_data.substr(0,pos);result_data=result_data.substr(pos+1);pos=result_data.indexOf(":");safe_params=result_data.substr(0,pos);upload_params=result_data.substr(pos+1)}
if(debug_data!=""){var title="";if(this.requesttype=="fileupload")title=' - File: '+this.file_id;else if(this.requesttype=="email")title=' - Email Notification';debug_data=wfu_format_debug_data(debug_data,title)}
if(safe_params!=""){var safe_parts=safe_params.split(";");if(parseInt(safe_parts[2])==1){var filedata=safe_parts[3].split(",");file_status=wfu_plugin_decode_string(filedata[0]);uploaded_file_props=filedata[4]}}}
if(upload_params==""||safe_params==""){var error_colors=this.fail_colors.split(",");var Params=wfu_Initialize_Params();Params.general.shortcode_id=sid;Params.general.unique_id=this.unique_id;Params.general.state=7;Params.general.files_count=(this.requesttype=="fileupload")?1:0;Params.general.upload_finish_time=this.finish_time;if(error_code!="errorcancel"){Params.general.fail_message=GlobalData.consts.message_unknown;Params.general.fail_admin_message=wfu_join_strings("<br />",this.error_adminmessage_unknown,this.requesttype+":"+result_data)}
else{Params.general.fail_message=GlobalData.consts.file_cancelled;Params.general.fail_admin_message=""}
if(Params.general.files_count>0){Params[0]={};Params[0].color=error_colors[0];Params[0].bgcolor=error_colors[1];Params[0].borcolor=error_colors[2];Params[0].message_type=error_code;file_status=error_code;Params[0].header=this.error_message_header;Params[0].message=GlobalData.consts.message_timelimit;Params[0].admin_messages=this.is_admin=="true"?GlobalData.consts.message_admin_timelimit:""}
else Params.general.admin_messages.other=this.is_admin=="true"?GlobalData.consts.message_admin_timelimit:"";if(Params.general.upload_finish_time>0){if(d.getTime()<Params.general.upload_finish_time){if(Params.general.files_count>0){Params[0].message=Params.general.fail_message;Params[0].admin_messages=this.is_admin=="true"?Params.general.fail_admin_message:""}
else Params.general.admin_messages.other=this.is_admin=="true"?Params.general.fail_admin_message:""}}}
if(upload_params==""||safe_params==""){last=wfu_ProcessUploadComplete(sid,this.file_id,Params,this.unique_id,this.params_index,this.session_token,"",[this.debugmode,debug_data,this.is_admin],this.requesttype,"")}
else{last=wfu_ProcessUploadComplete(sid,this.file_id,upload_params,this.unique_id,this.params_index,this.session_token,safe_params,[this.debugmode,debug_data,this.is_admin],this.requesttype,js_script_enc)}
if(last){wfu_dettach_cancel_event(sid);wfu_unlock_upload(sid);wfu_hide_simple_progressbar(sid);wfu_clear(sid)}
if(evt.target.return_status)
return file_status}
function wfu_ProcessUploadComplete(sid,file_id,upload_params,unique_id,params_index,session_token,safe_output,debug_data,request_type,js_script_enc){if(!sid||sid<0)return;if(upload_params==null||upload_params=="")return;if(unique_id=="")return;if(unique_id!="no-ajax"&&!GlobalData[sid])return;var do_redirect=!1;if(typeof upload_params==="string"){upload_params=wfu_plugin_decode_string(upload_params.replace(/^\s+|\s+$/g,""));var Params=null;try{Params=JSON.parse(upload_params)}
catch(e){}
if(Params==null){var safe_parts=safe_output.split(";");Params=wfu_Initialize_Params();Params.general.shortcode_id=sid;Params.general.unique_id=unique_id;Params.general.state=safe_parts[0];if(Params.general.state==4)Params.general.state++;var default_colors=safe_parts[1].split(",");var filedata="";var error_jsonparse_filemessage=GlobalData.consts.jsonparse_filemessage;var error_jsonparse_message=GlobalData.consts.jsonparse_message;var error_jsonparse_adminmessage=GlobalData.consts.jsonparse_adminmessage;Params.general.files_count=parseInt(safe_parts[2]);for(var i=0;i<Params.general.files_count;i++){Params[i]={};Params[i].color=default_colors[0];Params[i].bgcolor=default_colors[1];Params[i].borcolor=default_colors[2];filedata=safe_parts[i+3].split(",");Params[i].message_type=wfu_plugin_decode_string(filedata[0]);Params[i].header=wfu_plugin_decode_string(filedata[1]);if(Params[i].message_type=="success"){Params[i].header+=error_jsonparse_filemessage;Params[i].message_type="warning"}
Params[i].message=wfu_join_strings("<br />",error_jsonparse_message,wfu_plugin_decode_string(filedata[2]));Params[i].admin_messages=wfu_join_strings("<br />",error_jsonparse_adminmessage,wfu_plugin_decode_string(filedata[3]))}}}
else if(typeof upload_params==="object")var Params=upload_params;else return;i=0;while(Params[i]){if(Params[i].message_type){if(Params[i].message_type.substr(0,5)=='error')Params[i].message_type=Params[i].message_type.substr(0,5)}
i++}
var message_table=document.getElementById('wfu_messageblock_'+sid);var UploadStates_Ok=!0;if(!UploadStates[sid]&&message_table){var upload_states=document.getElementById('wfu_messageblock_header_'+sid+'_states').value;upload_states=wfu_plugin_decode_string(upload_states.replace(/^\s+|\s+$/g,""));UploadStates[sid]=null;try{UploadStates[sid]=JSON.parse(upload_states)}
catch(e){}
if(UploadStates[sid]==null){UploadStates_Ok=!1}}
if(!GlobalData[sid])GlobalData[sid]=Object();var G=GlobalData[sid];if(unique_id=="no-ajax"){G.last=!1;G.unique_id="";G.files_count=Params.general.files_count;if(Params.general.state==0)Params.general.files_count=0;G.files_processed=Params.general.files_count;if(UploadStates_Ok)G.upload_state=Params.general.state;else G.upload_state=10;G.nofileupload=(Params.general.state>12);G.message=Params.general.message;G.update_wpfilebase=Params.general.update_wpfilebase;G.redirect_link=Params.general.redirect_link;G.notify_only_filename_list="";G.notify_target_path_list="";G.notify_attachment_list="";G.admin_messages={};G.admin_messages.wpfilebase=Params.general.admin_messages.wpfilebase;G.admin_messages.notify=Params.general.admin_messages.notify;G.admin_messages.redirect=Params.general.admin_messages.redirect;G.admin_messages.debug=debug_data[1];G.admin_messages.other=Params.general.admin_messages.other;G.errors={};G.errors.wpfilebase=Params.general.errors.wpfilebase;G.errors.notify=Params.general.errors.notify;G.errors.redirect=Params.general.errors.redirect;G.current_size=0;G.total_size=0}
else{if(G.unique_id==""||G.unique_id!=unique_id||G.unique_id!=Params.general.unique_id)return;if(G.last)return;if(Params.general.files_count==0&&Params[0]){if(Params[0].message_type=="error"){Params.general.files_count=1}}
var file_status="";for(var i=0;i<Params.general.files_count;i++){if(Params[i].message_type=="error"&&G.files_processed==0)file_status="error1";else if(Params[i].message_type=="error"&&G.files_processed>0)file_status="error2";else file_status=Params[i].message_type;G.upload_state=GlobalData.filestatematch[file_status][G.upload_state]}
if(!UploadStates_Ok)G.upload_state=10;G.files_processed+=Params.general.files_count;G.message=wfu_join_strings("<br />",G.message,Params.general.message);if(G.update_wpfilebase=="")G.update_wpfilebase=Params.general.update_wpfilebase;if(!request_type||(request_type&&request_type!="email"))G.redirect_link=Params.general.redirect_link;G.notify_only_filename_list=wfu_join_strings(", ",G.notify_only_filename_list,Params.general.notify_only_filename_list);G.notify_target_path_list=wfu_join_strings(", ",G.notify_target_path_list,Params.general.notify_target_path_list);G.notify_attachment_list=wfu_join_strings(",",G.notify_attachment_list,Params.general.notify_attachment_list);G.admin_messages.debug=wfu_join_strings("<br />",G.admin_messages.debug,debug_data[1]);G.admin_messages.other=wfu_join_strings("<br />",G.admin_messages.other,Params.general.admin_messages.other);if(G.admin_messages.wpfilebase=="")G.admin_messages.wpfilebase=Params.general.admin_messages.wpfilebase;if(G.admin_messages.notify=="")G.admin_messages.notify=Params.general.admin_messages.notify;if(G.admin_messages.redirect=="")G.admin_messages.redirect=Params.general.admin_messages.redirect;if(G.errors.wpfilebase=="")G.errors.wpfilebase=Params.general.errors.wpfilebase;if(G.errors.notify=="")G.errors.notify=Params.general.errors.notify;if(G.errors.redirect=="")G.errors.redirect=Params.general.errors.redirect}
if(G.files_processed==G.files_count){G.last=!0;if(G.update_wpfilebase!=""){G.admin_messages.wpfilebase="";wfu_notify_WPFilebase(params_index,session_token)}
if(G.notify_only_filename_list!=""){G.admin_messages.notify="";if(G.nofileupload)G.notify_only_filename_list="";wfu_send_email_notification(sid,unique_id,params_index,session_token,G.notify_only_filename_list,G.notify_target_path_list,G.notify_attachment_list,debug_data[0],debug_data[2]);G.last=!1;G.notify_only_filename_list=""}
if(G.last){if(unique_id!="no-ajax"&&!G.nofileupload)wfu_notify_server_upload_ended(sid,unique_id,params_index,session_token);GlobalData.UploadInProgressString=GlobalData.UploadInProgressString.replace(new RegExp("\\["+unique_id+"\\]","g"),"")}
if(G.errors.redirect!="")G.redirect_link="";if(G.redirect_link!=""&&G.last&&GlobalData.UploadInProgressString.trim()==""){G.upload_state=11;do_redirect=!0}}
var nonadmin_message=G.message;var admin_message=wfu_join_strings("<br />",G.admin_messages.other,G.admin_messages.wpfilebase,G.admin_messages.notify,G.admin_messages.redirect,G.admin_messages.debug);if(!UploadStates_Ok){var error_jsonparse_headermessage=GlobalData.consts.jsonparse_headermessage;var error_jsonparse_headeradminmessage=GlobalData.consts.jsonparse_headeradminmessage;nonadmin_message=wfu_join_strings("<br />",error_jsonparse_headermessage,nonadmin_message);admin_message=wfu_join_strings("<br />",error_jsonparse_headeradminmessage,admin_message)}
if(G.last){if(G.nofileupload){if(unique_id!="no-ajax"){if(G.upload_state==0)G.upload_state=14;else if(G.upload_state<4)G.upload_state=15}
if(G.upload_state==15&&Params[0]){nonadmin_message=Params[0].message;admin_message=Params[0].admin_messages}}
else{if(G.files_count==0&&G.upload_state!=12)G.upload_state=8;else if(G.upload_state<4)G.upload_state+=4;var admin_messages_exist=(G.admin_messages.wpfilebase!=""||G.admin_messages.notify!=""||G.admin_messages.redirect!=""||G.admin_messages.other!="");if(G.upload_state==4&&admin_message!="")G.upload_state++;else if(G.upload_state==5&&admin_message==""&&nonadmin_message=="")G.upload_state--}}
if(message_table){var subheader_state=document.getElementById('wfu_messageblock_header_'+sid+'_state');var single_file_shown=(G.files_count==1&&nonadmin_message==""&&admin_message==""&&G.last&&!do_redirect&&!G.nofileupload);if(single_file_shown){document.getElementById('wfu_messageblock_header_'+sid).style.display="none"}
else{document.getElementById('wfu_messageblock_header_'+sid).style.display="";var header_container=document.getElementById('wfu_messageblock_header_'+sid+'_container');if(UploadStates_Ok){var suffix="";if(G.files_count==1&&(G.upload_state==5||G.upload_state==7))suffix="_singlefile";header_container.innerHTML=UploadStates[sid]["State"+(G.upload_state==0&&G.nofileupload?"13":G.upload_state)+suffix]}
else{header_container.innerHTML="";var safe_container=document.getElementById('wfu_messageblock_header_'+sid+'_safecontainer');header_container.innerHTML=safe_container.innerHTML.replace(/_safe/g,"")}
var subheader_show=!1;if(nonadmin_message!=""){document.getElementById('wfu_messageblock_subheader_'+sid+'_message').style.display="";document.getElementById('wfu_messageblock_subheader_'+sid+'_messagelabel').innerHTML=nonadmin_message;subheader_show=!0}
else document.getElementById('wfu_messageblock_subheader_'+sid+'_message').style.display="none";if(admin_message!=""){document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessage').style.display="";document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessagelabel').innerHTML=admin_message;subheader_show=!0}
else document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessage').style.display="none";if(subheader_show)
document.getElementById('wfu_messageblock_subheader_'+sid).style.display=subheader_state.value;else document.getElementById('wfu_messageblock_subheader_'+sid).style.display="none";if(subheader_show||(G.files_processed>0&&!G.nofileupload)){header_container.colSpan=2;document.getElementById('wfu_messageblock_arrow_'+sid).style.display=""}
else{document.getElementById('wfu_messageblock_arrow_'+sid).style.display="none";header_container.colSpan=3}}
if(!G.nofileupload){var next_block=document.getElementById('wfu_messageblock_subheader_'+sid);var next_block_id=0;var file_block=null;var file_template_container=document.getElementById('wfu_messageblock_'+sid+'_filetemplate');var file_contents="";var door=document.getElementById('wfu_messageblock_'+sid+'_door');var ii=0;var headerspan=1;var subheaderspan=2;var file_template=wfu_plugin_decode_string(file_template_container.value.replace(/^\s+|\s+$/g,""));for(var i=0;i<Params.general.files_count;i++){ii=i+file_id;file_contents=file_template.replace(/\[file_id\]/g,ii);file_contents=file_contents.replace(/\[filenumber_display\]/g,"");file_contents=file_contents.replace(/\[fileheader_color\]/g,Params[i].color);file_contents=file_contents.replace(/\[fileheader_bgcolor\]/g,Params[i].bgcolor);file_contents=file_contents.replace(/\[fileheader_borcolor\]/g,Params[i].borcolor);file_contents=file_contents.replace(/\[fileheader_message\]/g,Params[i].header);file_contents=file_contents.replace(/\[filesubheadermessage_display\]/g,"style=\"display:none;\"");file_contents=file_contents.replace(/\[filesubheader_message\]/g,Params[i].message);file_contents=file_contents.replace(/\[filesubheaderadminmessage_display\]/g,"style=\"display:none;\"");file_contents=file_contents.replace(/\[filesubheader_adminmessage\]/g,Params[i].admin_messages);file_contents="<table><tbody>"+file_contents+"</tbody></table>";door.innerHTML=file_contents;headerspan=1;subheaderspan=2;subheader_show=!1;file_block=document.getElementById('wfu_messageblock_'+sid+'_'+ii);if(G.files_count==1){document.getElementById('wfu_messageblock_'+sid+'_filenumber_'+ii).style.display="none";document.getElementById('wfu_messageblock_subheader_'+sid+'_fileempty_'+ii).style.display="none";if(single_file_shown)file_block.style.display="";else file_block.style.display=subheader_state.value;headerspan++;subheaderspan++}
else file_block.style.display=subheader_state.value;if(Params[i].message!=""){document.getElementById('wfu_messageblock_subheader_'+sid+'_message_'+ii).style.display="";subheader_show=!0}
if(Params[i].admin_messages!=""){document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessage_'+ii).style.display="";subheader_show=!0}
if(!subheader_show){document.getElementById('wfu_messageblock_arrow_'+sid+'_'+ii).style.display="none";headerspan++}
document.getElementById('wfu_messageblock_header_'+sid+'_container_'+ii).colSpan=headerspan;document.getElementById('wfu_messageblock_subheader_'+sid+'_container_'+ii).colSpan=subheaderspan;while(next_block_id<ii){next_block=next_block.nextSibling;if(next_block==null)break;if(next_block.nodeType===1)next_block_id=next_block.id.substr(next_block.id.lastIndexOf("_")+1)}
message_table.tBodies[0].insertBefore(file_block,next_block);next_block=file_block.nextSibling;file_block=document.getElementById('wfu_messageblock_subheader_'+sid+'_'+ii);message_table.tBodies[0].insertBefore(file_block,next_block);next_block=file_block;next_block_id=ii}
if(single_file_shown)document.getElementById('wfu_messageblock_'+sid+'_1').style.display=""}
message_table.style.display="";document.getElementById('wordpress_file_upload_message_'+sid).style.display=""}
if(js_script_enc)eval(wfu_plugin_decode_string(js_script_enc));if(do_redirect)wfu_Redirect(G.redirect_link);return G.last}
function wfu_uploadFailed(evt,debugmode){if(debugmode){console.log("failure report following");console.log(evt)}
var xhr=evt.target;var new_evt={target:{responseText:"",shortcode_id:xhr.shortcode_id}};wfu_uploadComplete.call(xhr,new_evt)}
function wfu_uploadCanceled(evt){}
function wfu_notify_server_upload_ended(sid,unique_id,params_index,session_token){var xhr=wfu_GetHttpRequestObject();if(xhr==null)return;var url=GlobalData.consts.ajax_url;params=new Array(6);params[0]=new Array(2);params[0][0]='action';params[0][1]='wfu_ajax_action';params[1]=new Array(2);params[1][0]='wfu_uploader_nonce';params[1][1]=document.getElementById("wfu_uploader_nonce_"+sid).value;params[2]=new Array(2);params[2][0]='uniqueuploadid_'+sid;params[2][1]=unique_id;params[3]=new Array(2);params[3][0]='params_index';params[3][1]=params_index;params[4]=new Array(2);params[4][0]='session_token';params[4][1]=session_token;params[5]=new Array(2);params[5][0]='upload_finished';params[5][1]=1;var parameters='';for(var i=0;i<params.length;i++){parameters+=(i>0?"&":"")+params[i][0]+"="+encodeURI(params[i][1])}
xhr.open("POST",url,!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){wfu_Code_Objects[sid].do_action("after_upload",xhr.responseText)}}};xhr.send(parameters)}
function wfu_Initialize_Params(){var params={};params.version="full";params.general={};params.general.shortcode_id=0;params.general.unique_id="";params.general.state=0;params.general.files_count=0;params.general.update_wpfilebase="";params.general.redirect_link="";params.general.upload_finish_time=0;params.general.message="";params.general.message_type="";params.general.admin_messages={};params.general.admin_messages.wpfilebase="";params.general.admin_messages.notify="";params.general.admin_messages.redirect="";params.general.admin_messages.other="";params.general.errors={};params.general.errors.wpfilebase="";params.general.errors.notify="";params.general.errors.redirect="";params.general.color="";params.general.bgcolor="";params.general.borcolor="";params.general.notify_only_filename_list="";params.general.notify_target_path_list="";params.general.notify_attachment_list="";params.general.fail_message="";params.general.fail_admin_message="";return params}
function wfu_redirect_to_classic(sid,session_token,flag,adminerrorcode){var allownofile=(document.getElementById("wordpress_file_upload_"+sid+"_nofile").value=="1");var numfiles=wfu_filesselected(sid);if(numfiles==0&&!allownofile)return;if(numfiles>0&&!wfu_selectsubdir_check(sid))return;if(!wfu_check_required_userdata(sid,!0))return;if(!wfu_Code_Objects[sid].apply_filters("pre_start_check",!0))return;wfu_redirect_to_classic_cont(sid,session_token,flag,adminerrorcode)}
function wfu_redirect_to_classic_cont(sid,session_token,flag,adminerrorcode){var process_function=function(responseText){var txt_value="";var success_txt="wfu_askserver_success:";var error_txt="wfu_askserver_error:";var pos_success=responseText.indexOf(success_txt);var pos_error=responseText.indexOf(error_txt);if(pos_success>-1){txt_value=responseText.substr(pos_success+success_txt.length);var allownofile=(document.getElementById("wordpress_file_upload_"+sid+"_nofile").value=="1");var numfiles=wfu_filesselected(sid);var nofileupload=(numfiles==0&&allownofile);wfu_Code_Objects[sid].do_action("askserver_success",txt_value,"no-ajax");var Params=wfu_Initialize_Params();Params.general.shortcode_id=sid;Params.general.unique_id="";Params.general.files_count=numfiles;if(nofileupload)Params.general.state=13;wfu_ProcessUploadComplete(sid,0,Params,"no-ajax","",session_token,"",["false","","false"]);document.getElementById('uniqueuploadid_'+sid).value=unique_id;document.getElementById('nofileupload_'+sid).value=(nofileupload?"1":"0");var suffix="";var redirected_txt='';if(flag==1)redirected_txt='_redirected';document.getElementById('upfile_'+sid).name='uploadedfile_'+sid+redirected_txt+suffix;document.getElementById('uploadedfile_'+sid+'_name').name='uploadedfile_'+sid+redirected_txt+'_name';document.getElementById('uploadedfile_'+sid+'_size').name='uploadedfile_'+sid+redirected_txt+'_size';if(adminerrorcode>0)document.getElementById('adminerrorcodes_'+sid).value=adminerrorcode;else document.getElementById('adminerrorcodes_'+sid).value="";document.getElementById('upfile_'+sid).disabled=!1;document.getElementById('uploadform_'+sid).submit()}
else if(pos_error>-1){txt_value=responseText.substr(pos_error+error_txt.length);wfu_unlock_upload(sid);wfu_Code_Objects[sid].do_action("askserver_error",txt_value)}}
var unique_id=wfu_randomString(10);wfu_lock_upload(sid);wfu_Code_Objects[sid].do_action("pre_start");var pass_params="";var params_obj=wfu_Code_Objects[sid].apply_filters("askserver_pass_params",{});for(var prop in params_obj)
if(params_obj.hasOwnProperty(prop))
pass_params+="&"+prop+"="+params_obj[prop];var d=new Date();var url=GlobalData.consts.ajax_url+"?action=wfu_ajax_action_ask_server&wfu_uploader_nonce="+document.getElementById("wfu_uploader_nonce_"+sid).value+"&sid="+sid+"&unique_id="+unique_id+"&start_time="+d.getTime()+"&session_token="+session_token+pass_params;var xmlhttp=wfu_GetHttpRequestObject();if(xmlhttp==null){var i=document.createElement("iframe");if(i){i.style.display="none";i.src=url;document.body.appendChild(i);i.onload=function(){process_function(i.contentDocument.body.innerHTML)}
return}
else{wfu_Code_Objects[sid].do_action("not_supported");return}}
xmlhttp.open("GET",url,!0);xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200){process_function(xmlhttp.responseText)}
else{alert(GlobalData.consts.remoteserver_noresult);wfu_Code_Objects[sid].do_action("askserver_noresult")}}}
xmlhttp.send(null)}
Code_Initializators[Code_Initializators.length]=function(sid){var CBUV_Code_Objects={};CBUV_Code_Objects.pre_start_ask_server=function(attr,has_filters){if(attr)return attr;var sid=this.sid;return(has_filters=="true")}
CBUV_Code_Objects.askserver_pass_params=function(params){var sid=this.sid;var farr=wfu_get_filelist(sid);var filenames="";var filesizes="";for(var i=0;i<farr.length;i++){if(i>0){filenames+=";";filesizes+=";"}
filenames+=wfu_plugin_encode_string(farr[i].name);filesizes+=farr[i].size}
params.filenames=filenames;params.filesizes=filesizes;return params}
CBUV_Code_Objects.askserver_success=function(response,mode){var sid=this.sid;var upload_status="success";var txt_match=response.match(/CBUVJS\[(.*?)\]/);var txt_header=(txt_match?(typeof txt_match[1]!="undefined"?txt_match[1]:""):"");if(txt_header!="")eval(txt_header)}
CBUV_Code_Objects.askserver_error=function(response,mode){var sid=this.sid;var upload_status="error";var txt_match=response.match(/CBUVJS\[(.*?)\]/);var txt_header=(txt_match?(typeof txt_match[1]!="undefined"?txt_match[1]:""):"");if(txt_header!="")eval(txt_header);txt_match=response.match(/CBUV\[(.*?)\]/);txt_header=(txt_match?(typeof txt_match[1]!="undefined"?txt_match[1]:""):"");if(txt_header!=""){var Params=wfu_Initialize_Params();Params.general.shortcode_id=sid;Params.general.message=txt_header;Params.general.state=12;wfu_ProcessUploadComplete(sid,0,Params,"no-ajax","","","",["false","","false"]);wfu_clear(sid)}}
CBUV_Code_Objects.after_upload=function(response){var sid=this.sid;var txt_match=response.match(/CBUVJS\[(.*?)\]/);var txt_header=(txt_match?(typeof txt_match[1]!="undefined"?txt_match[1]:""):"");if(txt_header!="")eval(txt_header)}
return CBUV_Code_Objects}
function wfu_filesselected(sid){var ftext=document.getElementById("fileName_"+sid);var farr=wfu_get_filelist(sid);var allownofile=(document.getElementById("wordpress_file_upload_"+sid+"_nofile").value=="1");if(farr.length==0&&!allownofile){if(ftext){ftext.value=GlobalData.consts.nofilemessage;ftext.className="file_input_textbox_nofile"}}
return farr.length}
function wfu_check_required_userdata(sid,prompt){var userdata_count=wfu_get_userdata_count(sid);var req_empty=!1;for(var i=0;i<userdata_count;i++){var msg_hid=document.getElementById('hiddeninput_'+sid+'_userdata_'+i);var wrapper=document.getElementById('userdata_'+sid+'_fieldwrapper_'+i);var field=document.getElementById('userdata_'+sid+'_field_'+i);var msg_cont=document.getElementById('userdata_'+sid+'_'+i);var msg_hint=document.getElementById('userdata_'+sid+'_hint_'+i);msg_hid.value=window['userdata_'+sid+'_codes_'+i].value(field);var props={hintposition:"none"};var props_raw=document.getElementById('userdata_'+sid+'_props_'+i).value.split("|");for(var j=0;j<props_raw.length;j++)
if(props_raw[j].substr(0,2)=="p:")props.hintposition=props_raw[j].substr(2);var res="";if(wrapper.className.substr(0,35)=="file_userdata_fieldwrapper_required")res=window['userdata_'+sid+'_codes_'+i].empty(msg_hid);if(res===""&&window['userdata_'+sid+'_codes_'+i].validate)res=window['userdata_'+sid+'_codes_'+i].validate(msg_hid);if(res!==""){if(prompt){if(props.hintposition=="none")msg_hint.className="file_userdata_hint_none";else{wrapper.className="file_userdata_fieldwrapper_required_empty";var cont_rect=msg_cont.getBoundingClientRect();var msg_rect=wrapper.getBoundingClientRect();if(props.hintposition=="inline"){msg_hint.className="file_userdata_hint_inline";msg_hint.style.left=parseInt(msg_rect.left-cont_rect.left)+'px';msg_hint.style.top=parseInt(msg_rect.top-cont_rect.top)+'px';msg_hint.style.right=parseInt(cont_rect.right-msg_rect.right)+'px';msg_hint.style.bottom=parseInt(cont_rect.bottom-msg_rect.bottom)+'px'}
else if(props.hintposition=="top"){msg_hint.className="file_userdata_hint_top";msg_hint.style.left=parseInt(msg_rect.left-cont_rect.left)+'px';msg_hint.style.bottom=parseInt(cont_rect.bottom-msg_rect.top)+'px'}
else if(props.hintposition=="right"){msg_hint.className="file_userdata_hint_right";msg_hint.style.left=parseInt(msg_rect.right-cont_rect.left)+'px';msg_hint.style.top=parseInt(msg_rect.top-cont_rect.top)+'px'}
else if(props.hintposition=="bottom"){msg_hint.className="file_userdata_hint_bottom";msg_hint.style.left=parseInt(msg_rect.left-cont_rect.left)+'px';msg_hint.style.top=parseInt(msg_rect.bottom-cont_rect.top)+'px'}
else if(props.hintposition=="left"){msg_hint.className="file_userdata_hint_left";msg_hint.style.right=parseInt(cont_rect.right-msg_rect.left)+'px';msg_hint.style.top=parseInt(msg_rect.top-cont_rect.top)+'px'}
msg_hint.innerHTML=res;msg_hint.style.display="block"}}
req_empty=!0}}
return!req_empty}
function wfu_HTML5UploadFile(sid,JSONtext,session_token){if(!wfu_BrowserCaps.supportsAJAX){wfu_redirect_to_classic(sid,session_token,1,1);return}
if(!wfu_BrowserCaps.supportsHTML5){wfu_redirect_to_classic(sid,session_token,1,2);return}
JSONtext=wfu_plugin_decode_string(JSONtext.replace(/^\s+|\s+$/g,""));var JSONobj=null;try{JSONobj=JSON.parse(JSONtext)}
catch(e){}
if(JSONobj==null){wfu_redirect_to_classic(sid,session_token,1,3);return}
var xhr=wfu_GetHttpRequestObject();if(xhr==null)return;var allownofile=(document.getElementById("wordpress_file_upload_"+sid+"_nofile").value=="1");var numfiles=wfu_filesselected(sid);if(numfiles==0&&!allownofile)return;if(numfiles==0)wfu_selectbutton_clicked(sid);var uploadbutton=document.getElementById('upload_'+sid);var single_file_operation=(!uploadbutton);if(numfiles>0&&!wfu_selectsubdir_check(sid)){if(single_file_operation)wfu_clear_files(sid);return}
var numpasses=numfiles;numpasses+=numpasses;if(!wfu_check_required_userdata(sid,!0)){if(single_file_operation)wfu_clear_files(sid);return}
if(!wfu_Code_Objects[sid].apply_filters("pre_start_check",!0))return;var unique_upload_id=wfu_randomString(10);wfu_lock_upload(sid);wfu_Code_Objects[sid].do_action("pre_start");if(!wfu_Code_Objects[sid].apply_filters("pre_start_ask_server",!1,JSONobj.has_filters))
wfu_HTML5UploadFile_cont(sid,JSONobj,session_token,unique_upload_id);else{var url=GlobalData.consts.ajax_url;params=new Array(5);params[0]=new Array(2);params[0][0]='action';params[0][1]='wfu_ajax_action_ask_server';params[1]=new Array(2);params[1][0]='session_token';params[1][1]=session_token;params[2]=new Array(2);params[2][0]='sid';params[2][1]=sid;params[3]=new Array(2);params[3][0]='unique_id';params[3][1]=unique_upload_id;params[4]=new Array(2);params[4][0]='wfu_uploader_nonce';params[4][1]=document.getElementById("wfu_uploader_nonce_"+sid).value;var params_obj=wfu_Code_Objects[sid].apply_filters("askserver_pass_params",{});for(var prop in params_obj)
if(params_obj.hasOwnProperty(prop))
params.push([prop,params_obj[prop]]);var parameters='';for(var i=0;i<params.length;i++){parameters+=(i>0?"&":"")+params[i][0]+"="+encodeURI(params[i][1])}
xhr.open("POST",url,!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){var txt=xhr.responseText;var txt_value="";var success_txt="wfu_askserver_success:";var error_txt="wfu_askserver_error:";var pos_success=txt.indexOf(success_txt);var pos_error=txt.indexOf(error_txt);var pos=-1;if(pos_success>-1){txt_value=txt.substr(pos_success+success_txt.length);wfu_Code_Objects[sid].do_action("askserver_success",txt_value,"ajax");wfu_HTML5UploadFile_cont(sid,JSONobj,session_token,unique_upload_id)}
else if(pos_error>-1){txt_value=txt.substr(pos_error+error_txt.length);wfu_unlock_upload(sid);wfu_Code_Objects[sid].do_action("askserver_error",txt_value)}}
else{alert(GlobalData.consts.remoteserver_noresult);wfu_unlock_upload(sid);wfu_Code_Objects[sid].do_action("askserver_noresult")}}};xhr.send(parameters)}}
function wfu_HTML5UploadFile_cont(sid,JSONobj,session_token,unique_upload_id){function sendfile(ind,file,only_check,force_close_connection){ret_status=!0;var xhr=wfu_GetHttpRequestObject();var xhr_close_connection=wfu_GetHttpRequestObject();if(xhr==null||xhr_close_connection==null)return;var fd=null;var fd_close_connection=null;try{var fd=new FormData();var fd_close_connection=new FormData()}
catch(e){}
if(fd==null||fd_close_connection==null)return;fd.append("action","wfu_ajax_action");fd.append("wfu_uploader_nonce",document.getElementById("wfu_uploader_nonce_"+sid).value);if(!only_check)fd.append("uploadedfile_"+sid+suffice,file);fd.append("uploadedfile_"+sid+"_index",ind);fd.append("uploadedfile_"+sid+"_name",wfu_plugin_encode_string(farr[ind].name));fd.append("uploadedfile_"+sid+"_size",farr[ind].size);fd.append("uniqueuploadid_"+sid,unique_upload_id);fd.append("params_index",JSONobj.params_index);fd.append("subdir_sel_index",subdir_sel_index);fd.append("nofileupload_"+sid,(nofileupload?"1":"0"));if(only_check)fd.append("only_check","1");else fd.append("only_check","0");fd.append("session_token",session_token);var other_params=wfu_Code_Objects[sid].apply_filters("upload_pass_params",{},"ajax");for(var prop in other_params)
if(other_params.hasOwnProperty(prop))
fd.append(prop,other_params[prop]);var userdata_count=wfu_get_userdata_count(sid);for(var ii=0;ii<userdata_count;ii++)
fd.append("hiddeninput_"+sid+"_userdata_"+ii,document.getElementById('hiddeninput_'+sid+'_userdata_'+ii).value);wfu_initialize_fileupload_xhr(xhr,sid,session_token,unique_upload_id,JSONobj,ind,farr[ind].name);xhr.loading=!0;if(!only_check){xhr.size=file.size;xhr.totalsize=farr[ind].size}
if(force_close_connection){fd_close_connection.append("action","wfu_ajax_action");fd_close_connection.append("wfu_uploader_nonce",document.getElementById("wfu_uploader_nonce_"+sid).value);fd_close_connection.append("params_index",JSONobj.params_index);fd_close_connection.append("session_token",session_token);fd_close_connection.append("force_connection_close","1");xhr_close_connection.open("POST",GlobalData.consts.ajax_url,!1);try{xhr_close_connection.send(fd_close_connection)}
catch(err){}
ret_status=(xhr_close_connection.responseText.indexOf("success")>-1)}
if(ret_status){if(!only_check){xhr.upload.xhr=xhr;xhr.upload.dummy=1;xhr.upload.addEventListener("loadstart",wfu_loadStart,!1);xhr.upload.addEventListener("progress",new Function("evt","wfu_uploadProgress(evt, "+sid+", "+xhr.xhrid+", "+JSONobj.debugmode+");"),!1);xhr.addEventListener("load",wfu_uploadComplete,!1);xhr.addEventListener("error",new Function("evt","wfu_uploadFailed(evt, "+JSONobj.debugmode+");"),!1);xhr.addEventListener("abort",wfu_uploadCanceled,!1);xhr.open("POST",GlobalData.consts.ajax_url,!0);xhr.send(fd)}
else{xhr.addEventListener("load",function(evt){evt={target:{responseText:evt.target.responseText,shortcode_id:sid,return_status:!0}};var file_status=wfu_uploadComplete.call(xhr,evt);xhr.file_id=0;ret_status=(file_status=="success"||file_status=="warning");if(ret_status&&!nofileupload){sendfile(ind,file,!1,!1)}
else if(ret_status&&nofileupload){}},!1);xhr.addEventListener("error",function(evt){return},!1);xhr.open("POST",GlobalData.consts.ajax_url,!0);xhr.send(fd)}}
else{var evt={target:{responseText:"",shortcode_id:sid}};wfu_uploadComplete.call(xhr,evt)}
inc++;return ret_status}
var subdir_sel_index=-1;var sel=document.getElementById("selectsubdir_"+sid);if(sel){var editbox=document.getElementById("selectsubdiredit_"+sid);var editable=(editbox.style.display!="none");if(editable)subdir_sel_index=editbox.value;else subdir_sel_index=sel.selectedIndex}
var farr=wfu_get_filelist(sid);var nofileupload=!1;var allownofile=(document.getElementById("wordpress_file_upload_"+sid+"_nofile").value=="1");if(farr.length==0&&allownofile){nofileupload=!0;farr=[{name:"dummy.txt",size:0}]}
var suffice="";GlobalData.UploadInProgressString+="["+unique_upload_id+"]";GlobalData[sid]={};GlobalData[sid].unique_id=unique_upload_id;GlobalData[sid].last=!1;GlobalData[sid].files_count=1;GlobalData[sid].files_processed=0;GlobalData[sid].upload_state=0;GlobalData[sid].nofileupload=nofileupload;GlobalData[sid].message="";GlobalData[sid].update_wpfilebase="";GlobalData[sid].redirect_link="";GlobalData[sid].notify_only_filename_list="";GlobalData[sid].notify_target_path_list="";GlobalData[sid].notify_attachment_list="";GlobalData[sid].admin_messages={};GlobalData[sid].admin_messages.wpfilebase="";GlobalData[sid].admin_messages.notify="";GlobalData[sid].admin_messages.redirect="";GlobalData[sid].admin_messages.debug="";GlobalData[sid].admin_messages.other="";GlobalData[sid].errors={};GlobalData[sid].errors.wpfilebase="";GlobalData[sid].errors.notify="";GlobalData[sid].errors.redirect="";GlobalData[sid].xhrs=Array();GlobalData[sid].metricstotal={size:farr[0].size,loaded:0,progress_pos:0.0};GlobalData[sid].metrics=[{size:farr[0].size,loaded:0,progress_pos:0.0}];if(!nofileupload)wfu_show_simple_progressbar(JSONobj.shortcode_id,"progressive");wfu_attach_cancel_event(sid,session_token,unique_upload_id,JSONobj);var Params=wfu_Initialize_Params();Params.general.shortcode_id=sid;Params.general.unique_id=unique_upload_id;wfu_ProcessUploadComplete(sid,0,Params,unique_upload_id,JSONobj.params_index,session_token,"",["false","","false"]);var inc=0;var ret_status=!0;var i=0;var fprops=[];sendfile(i,farr[i],!0,!1)}
function wfu_initialize_fileupload_xhr(xhr,sid,session_token,unique_upload_id,JSONobj,file_ind,filename){var xhrid=(file_ind>=0?GlobalData[sid].xhrs.push(xhr)-1:-1);var d=new Date();xhr.xhrid=xhrid;xhr.shortcode_id=sid;xhr.requesttype=(file_ind>=0?"fileupload":"email");xhr.file_id=file_ind+1;xhr.size=0;xhr.totalsize=0;xhr.loading=!1;xhr.deltasize=0;xhr.deltaloaded=0;xhr.sizeloaded=0;xhr.aborted=!1;xhr.unique_id=unique_upload_id;xhr.params_index=JSONobj.params_index;xhr.session_token=session_token;xhr.debugmode=JSONobj.debugmode;xhr.is_admin=JSONobj.is_admin;xhr.start_time=d.getTime();xhr.end_time=xhr.start_time;xhr.finish_time=xhr.start_time+parseInt(GlobalData.consts.max_time_limit)*1000;xhr.fail_colors=JSONobj.fail_colors;xhr.error_message_header=JSONobj.error_header.replace(/%username%/g,"no data");xhr.error_message_header=xhr.error_message_header.replace(/%useremail%/g,"no data");xhr.error_message_header=xhr.error_message_header.replace(/%filename%/g,filename);xhr.error_message_header=xhr.error_message_header.replace(/%filepath%/g,filename);xhr.error_message_failed=GlobalData.consts.message_failed;xhr.error_message_cancelled=GlobalData.consts.message_cancelled;xhr.error_adminmessage_unknown=GlobalData.consts.adminmessage_unknown.replace(/%username%/g,"no data");xhr.error_adminmessage_unknown=xhr.error_adminmessage_unknown.replace(/%useremail%/g,"no data");xhr.error_adminmessage_unknown=xhr.error_adminmessage_unknown.replace(/%filename%/g,filename);xhr.error_adminmessage_unknown=xhr.error_adminmessage_unknown.replace(/%filepath%/g,filename)}
function wfu_get_userdata_count(sid){var fields_count=0;while(document.getElementById('userdata_'+sid+'_'+fields_count))fields_count++;return fields_count}
function wfu_lock_upload(sid){var textbox=document.getElementById('fileName_'+sid);document.getElementById('input_'+sid).disabled=!0;document.getElementById('upfile_'+sid).disabled=!0;wfu_selectsubdir_disable_onoff(sid,!0);var upload=document.getElementById('upload_'+sid);if(upload)upload.disabled=!0;var userdata_count=wfu_get_userdata_count(sid);for(var i=0;i<userdata_count;i++)
window['userdata_'+sid+'_codes_'+i].lock(document.getElementById('userdata_'+sid+'_field_'+i));wfu_Code_Objects[sid].do_action("lock_upload")}
function wfu_unlock_upload(sid){var textbox=document.getElementById('fileName_'+sid);document.getElementById('input_'+sid).disabled=!1;document.getElementById('upfile_'+sid).disabled=!1;wfu_selectsubdir_disable_onoff(sid,!1);var upload=document.getElementById('upload_'+sid);if(upload)upload.disabled=!1;var userdata_count=wfu_get_userdata_count(sid);for(var i=0;i<userdata_count;i++)
window['userdata_'+sid+'_codes_'+i].unlock(document.getElementById('userdata_'+sid+'_field_'+i));wfu_Code_Objects[sid].do_action("unlock_upload")}
function wfu_clear_files(sid){document.getElementById("uploadform_"+sid).reset();var inputfile=document.getElementById("upfile_"+sid);if(typeof inputfile.filearray!="undefined"){inputfile.filearray.length=0;inputfile.filearrayprops.length=0}
var textbox=document.getElementById('fileName_'+sid);if(textbox){textbox.value='';textbox.className='file_input_textbox'}}
function wfu_clear(sid){wfu_clear_files(sid);var subdir=document.getElementById('selectsubdir_'+sid);if(subdir){var editbox=document.getElementById("selectsubdiredit_"+sid);var editable=(editbox.style.display!="none");if(!editable){subdir.options[0].style.display="block";subdir.selectedIndex=parseInt(document.getElementById('selectsubdirdefault_'+sid).value);if(subdir.selectedIndex<0)subdir.selectedIndex=0}
else{subdir.selectedIndex=-1;editbox.value=''}}
var userdata_count=wfu_get_userdata_count(sid);for(var i=0;i<userdata_count;i++)
window['userdata_'+sid+'_codes_'+i].reset(document.getElementById('userdata_'+sid+'_field_'+i),document.getElementById('hiddeninput_'+sid+'_userdata_'+i));wfu_Code_Objects[sid].do_action("clear_upload")}
function wfu_reset_message(sid){var message_table=document.getElementById('wfu_messageblock_'+sid);if(message_table){document.getElementById('wfu_messageblock_header_'+sid).style.display="";var header_container=document.getElementById('wfu_messageblock_header_'+sid+'_container');if(UploadStates[sid])header_container.innerHTML=UploadStates[sid].State0;document.getElementById('wfu_messageblock_header_'+sid+'_state').value="none";document.getElementById('wfu_messageblock_arrow_'+sid).style.display="none";header_container.colSpan=3;document.getElementById('wfu_messageblock_subheader_'+sid+'_messagelabel').innerHTML="";document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessagelabel').innerHTML="";document.getElementById('wfu_messageblock_subheader_'+sid).style.display="none";document.getElementById('wfu_messageblock_subheader_'+sid+'_message').style.display="none";document.getElementById('wfu_messageblock_subheader_'+sid+'_adminmessage').style.display="none";var file_array=wfu_get_file_ids(sid);for(var i=1;i<=file_array.length;i++){message_table.tBodies[0].removeChild(document.getElementById('wfu_messageblock_'+sid+'_'+i));message_table.tBodies[0].removeChild(document.getElementById('wfu_messageblock_subheader_'+sid+'_'+i))}}}
function wfu_show_simple_progressbar(sid,effect){var bar=document.getElementById('progressbar_'+sid+'_animation');var barsafe=document.getElementById('progressbar_'+sid+'_imagesafe');if(bar){if(effect=="progressive"){bar.style.width="0%";bar.className="file_progress_progressive";barsafe.style.display="none";bar.style.display="block"}
else if(wfu_BrowserCaps.supportsAnimation){bar.style.width="25%";bar.className="file_progress_shuffle";barsafe.style.display="none";bar.style.display="block"}
else{bar.style.width="0%";bar.className="file_progress_noanimation";bar.style.display="none";barsafe.style.display="block"}
document.getElementById('wordpress_file_upload_progressbar_'+sid).style.display="block"}}
function wfu_hide_simple_progressbar(sid){var bar=document.getElementById('progressbar_'+sid+'_animation');var barsafe=document.getElementById('progressbar_'+sid+'_imagesafe');if(bar){document.getElementById('wordpress_file_upload_progressbar_'+sid).style.display="none";bar.style.width="0%";bar.className="file_progress_noanimation";barsafe.style.display="none";bar.style.display="block"}}
function wfu_invoke_shortcode_editor(sid,postid,posthash,tag){var buttons=document.getElementsByTagName('BUTTON');var same=0;var obj=null;for(var i=0;i<buttons.length;i++){if(buttons[i].parentNode)
if(buttons[i].parentNode.id==tag+"_editor_"+sid){obj=buttons[i];same++}}
if(same==0)return;if(same>1){alert(GlobalData.consts.same_pluginid);return}
var xhr=wfu_GetHttpRequestObject();if(xhr==null)return;obj.parentNode.style.display="none";document.getElementById(tag+'_overlay_'+sid).style.display="block";var url=GlobalData.consts.ajax_url;params=new Array(6);params[0]=new Array(2);params[0][0]='action';params[0][1]='wfu_ajax_action_edit_shortcode';params[1]=new Array(2);params[1][0]='upload_id';params[1][1]=sid;params[2]=new Array(2);params[2][0]='post_id';params[2][1]=postid;params[3]=new Array(2);params[3][0]='post_hash';params[3][1]=posthash;params[4]=new Array(2);params[4][0]='shortcode_tag';params[4][1]=tag;params[5]=new Array(2);params[5][0]='widget_id';params[5][1]=(document.getElementById(tag+'_'+sid+'_widgetid')?document.getElementById(tag+'_'+sid+'_widgetid').value:'');var parameters='';for(var i=0;i<params.length;i++){parameters+=(i>0?"&":"")+params[i][0]+"="+encodeURI(params[i][1])}
xhr.open("POST",url,!0);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){document.getElementById(tag+'_overlay_'+sid).style.display="none";obj.parentNode.removeAttribute("style");var start_text='wfu_edit_shortcode:';var pos=xhr.responseText.indexOf(start_text);if(pos==-1)pos=xhr.responseText.length;var messages=xhr.responseText.substr(0,pos);var response=xhr.responseText.substr(pos+start_text.length,xhr.responseText.length-pos-start_text.length);pos=response.indexOf(":");var txt_header=response.substr(0,pos);txt_value=response.substr(pos+1,response.length-pos-1);if(txt_header=='success'){var editor_window=window.open(wfu_plugin_decode_string(txt_value),'_blank');if(editor_window)editor_window.plugin_window=window;else alert(GlobalData.consts.enable_popups)}
else if(txt_header=='check_page_obsolete')
alert(txt_value)}}};xhr.send(parameters)}
wfu_initialize_webcam=function(sid,mode,audiocapture,videowidth,videoheight,videoaspectratio,videoframerate,camerafacing,maxrecordtime){if(typeof wfu_parse_video_width=="undefined")
wfu_parse_video_width=function(videowidth){var vw=parseInt(videowidth);if(vw>0){this.empty=!1;this.video.width=vw}}
if(typeof wfu_parse_video_height=="undefined")
wfu_parse_video_height=function(videoheight){var vh=parseInt(videoheight);if(vh>0){this.empty=!1;this.video.height=vh}}
if(typeof wfu_parse_video_aspectratio=="undefined")
wfu_parse_video_aspectratio=function(videoaspectratio){var ar=parseFloat(videoaspectratio);if(ar>0){this.empty=!1;this.video.aspectRatio=ar}}
if(typeof wfu_parse_video_framerate=="undefined")
wfu_parse_video_framerate=function(videoframerate){var fr=parseFloat(videoframerate);if(fr>0){this.empty=!1;this.video.frameRate=fr}}
if(typeof wfu_parse_video_facingmode=="undefined")
wfu_parse_video_facingmode=function(camerafacing){var cf=(camerafacing=="front"?"user":(camerafacing=="back"?"environment":""));if(cf!=""){this.empty=!1;this.video.facingMode=cf}}
var video_settings={empty:!0,video:{}};wfu_parse_video_width.call(video_settings,videowidth);wfu_parse_video_height.call(video_settings,videoheight);wfu_parse_video_aspectratio.call(video_settings,videoaspectratio);wfu_parse_video_framerate.call(video_settings,videoframerate);wfu_parse_video_facingmode.call(video_settings,camerafacing);var WebcamProps={mode:mode,audio:(audiocapture=="true"),video:(video_settings.empty?!0:video_settings.video),maxrecordtime:maxrecordtime};window["wfu_webcam_props_"+sid]=WebcamProps;wfu_reinitialize_webcam(sid)}
wfu_reinitialize_webcam=function(sid){window["wfu_webcam_props_"+sid].active=!0;window["wfu_webcam_props_"+sid].width=0;window["wfu_webcam_props_"+sid].width=0;window["wfu_webcam_props_"+sid].timeStart=0.0;window["wfu_webcam_props_"+sid].duration=0.0;window["wfu_webcam_props_"+sid].counting=!1;window["wfu_webcam_props_"+sid].stream=null;window["wfu_webcam_props_"+sid].media=null;window["wfu_webcam_props_"+sid].blobs=null;window["wfu_webcam_props_"+sid].playing=!1;var WebcamProps=window["wfu_webcam_props_"+sid];var video=document.getElementById("webcam_"+sid+"_box");var webcamoff=document.getElementById("webcam_"+sid+"_webcamoff");webcamoff.style.display="none";video.style.display="block";var constraints={audio:WebcamProps.audio,video:WebcamProps.video};if(typeof Promise=="undefined"){Promise=function(mainCallback){this.mainCallback=mainCallback;this.then=function(successCallback){this.successCallback=successCallback;return this};this.catch=function(errorCallback){mainCallback(this.successCallback,errorCallback)}}
PromiseRejected=function(error){this.then=function(successCallback){return this}
this.catch=function(errorCallback){errorCallback(error)}}
Promise.reject=function(error){return new PromiseRejected(error)}}
var promisifiedOldGUM=function(constraints,successCallback,errorCallback){var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!getUserMedia||typeof MediaRecorder=="undefined"){return Promise.reject(new Error('getUserMedia is not implemented in this browser'))}
return new Promise(function(successCallback,errorCallback){getUserMedia.call(navigator,constraints,successCallback,errorCallback)})}
if(navigator.mediaDevices===undefined)navigator.mediaDevices={};if(navigator.mediaDevices.getUserMedia===undefined)
navigator.mediaDevices.getUserMedia=promisifiedOldGUM;navigator.mediaDevices.getUserMedia(constraints).then(function(stream){window["wfu_webcam_props_"+sid].stream=stream;video.autoplay=!0;video.ontimeupdate=null;video.onerror=null;video.onloadeddata=function(e){wfu_webcam_init_callback(sid)};video.src=window.URL.createObjectURL(stream);wfu_initialize_webcam_nav(sid,WebcamProps.mode)}).catch(function(e){console.log('Video not supported!',e);document.getElementById("webcam_"+sid+"_inner").className="wfu_file_webcam_inner wfu_webcam_notsupported"})}
wfu_webcam_init_callback=function(sid){var container=document.getElementById("webcam_"+sid+"_inner");var video=document.getElementById("webcam_"+sid+"_box");window["wfu_webcam_props_"+sid].width=video.videoWidth;window["wfu_webcam_props_"+sid].height=video.videoHeight;var imgdata='<svg xmlns="http://www.w3.org/2000/svg" width="'+video.videoWidth+'" height="'+video.videoHeight+'"></svg>';var imgblob=new Blob([imgdata],{type:'image/svg+xml;charset=utf-8'});var img=document.getElementById("webcam_"+sid+"_webcamoff_img");img.src=window.URL.createObjectURL(imgblob);img.style.width=container.clientWidth+"px";img.style.height=container.clientHeight+"px"}
wfu_initialize_webcam_nav=function(sid,mode){if(typeof SVGInjector=="undefined"){!function(t,e){"use strict";function r(t){t=t.split(" ");for(var e={},r=t.length,n=[];r--;)e.hasOwnProperty(t[r])||(e[t[r]]=1,n.unshift(t[r]));return n.join(" ")}var n="file:"===t.location.protocol,i=e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),o=Array.prototype.forEach||function(t,e){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;var r,n=this.length>>>0;for(r=0;n>r;++r)r in this&&t.call(e,this[r],r,this)},a={},l=0,s=[],u=[],c={},f=function(t){return t.cloneNode(!0)},p=function(t,e){u[t]=u[t]||[],u[t].push(e)},d=function(t){for(var e=0,r=u[t].length;r>e;e++)!function(e){setTimeout(function(){u[t][e](f(a[t]))},0)}(e)},v=function(e,r){if(void 0!==a[e])a[e]instanceof SVGSVGElement?r(f(a[e])):p(e,r);else{if(!t.XMLHttpRequest)return r("Browser does not support XMLHttpRequest"),!1;a[e]={},p(e,r);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4===i.readyState){if(404===i.status||null===i.responseXML)return r("Unable to load SVG file: "+e),n&&r("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),r(),!1;if(!(200===i.status||n&&0===i.status))return r("There was a problem injecting the SVG: "+i.status+" "+i.statusText),!1;if(i.responseXML instanceof Document)a[e]=i.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var t;try{var o=new DOMParser;t=o.parseFromString(i.responseText,"text/xml")}catch(l){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)return r("Unable to parse SVG file: "+e),!1;a[e]=t.documentElement}d(e)}},i.open("GET",e),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()}},h=function(e,n,a,u){var f=e.getAttribute("data-src")||e.getAttribute("src");if(!/\.svg/i.test(f))return void u("Attempted to inject a file with a non-svg extension: "+f);if(!i){var p=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(p?(e.setAttribute("src",p),u(null)):a?(e.setAttribute("src",a+"/"+f.split("/").pop().replace(".svg",".png")),u(null)):u("This browser does not support SVG and no PNG fallback was defined."))}-1===s.indexOf(e)&&(s.push(e),e.setAttribute("src",""),v(f,function(i){if("undefined"==typeof i||"string"==typeof i)return u(i),!1;var a=e.getAttribute("id");a&&i.setAttribute("id",a);var p=e.getAttribute("title");p&&i.setAttribute("title",p);var d=[].concat(i.getAttribute("class")||[],"injected-svg",e.getAttribute("class")||[]).join(" ");i.setAttribute("class",r(d));var v=e.getAttribute("style");v&&i.setAttribute("style",v);var h=[].filter.call(e.attributes,function(t){return/^data-\w[\w\-]*$/.test(t.name)});o.call(h,function(t){t.name&&t.value&&i.setAttribute(t.name,t.value)});var g,m,b,y,A,w={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(w).forEach(function(t){g=t,b=w[t],m=i.querySelectorAll("defs "+g+"[id]");for(var e=0,r=m.length;r>e;e++){y=m[e].id,A=y+"-"+l;var n;o.call(b,function(t){n=i.querySelectorAll("["+t+'*="'+y+'"]');for(var e=0,r=n.length;r>e;e++)n[e].setAttribute(t,"url(#"+A+")")}),m[e].id=A}}),i.removeAttribute("xmlns:a");for(var x,S,k=i.querySelectorAll("script"),j=[],G=0,T=k.length;T>G;G++)S=k[G].getAttribute("type"),S&&"application/ecmascript"!==S&&"application/javascript"!==S||(x=k[G].innerText||k[G].textContent,j.push(x),i.removeChild(k[G]));if(j.length>0&&("always"===n||"once"===n&&!c[f])){for(var M=0,V=j.length;V>M;M++)new Function(j[M])(t);c[f]=!0}var E=i.querySelectorAll("style");o.call(E,function(t){t.textContent+=""}),e.parentNode.replaceChild(i,e),delete s[s.indexOf(e)],e=null,l++,u(i)}))},g=function(t,e,r){e=e||{};var n=e.evalScripts||"always",i=e.pngFallback||!1,a=e.each;if(void 0!==t.length){var l=0;o.call(t,function(e){h(e,n,i,function(e){a&&"function"==typeof a&&a(e),r&&t.length===++l&&r(l)})})}else t?h(t,n,i,function(e){a&&"function"==typeof a&&a(e),r&&r(1),t=null}):r&&r(0)};"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=g:"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof t&&(t.SVGInjector=g)}(window,document)}
if(document.getElementById("webcam_"+sid+"_btns_converted").value!="1"){SVGInjector(document.getElementById("webcam_"+sid+"_btns"));document.getElementById("webcam_"+sid+"_btns_converted").value="1"}
if(mode=="capture video")wfu_webcam_set_nav_status(sid,"idle_only_video");else if(mode=="take photos")wfu_webcam_set_nav_status(sid,"idle_only_pictures");else if(mode=="both")wfu_webcam_set_nav_status(sid,"idle_video_and_pictures");else wfu_webcam_set_nav_status(sid,"idle_only_video")}
wfu_webcam_set_nav_status=function(sid,status){var onoff=document.getElementById("webcam_"+sid+"_btn_onoff");var nav=document.getElementById("webcam_"+sid+"_nav");var vid=document.getElementById("webcam_"+sid+"_btn_video");var rec=document.getElementById("webcam_"+sid+"_btn_record");var play=document.getElementById("webcam_"+sid+"_btn_play");var stop=document.getElementById("webcam_"+sid+"_btn_stop");var pause=document.getElementById("webcam_"+sid+"_btn_pause");var pos=document.getElementById("webcam_"+sid+"_btn_pos");var back=document.getElementById("webcam_"+sid+"_btn_back");var fwd=document.getElementById("webcam_"+sid+"_btn_fwd");var tim=document.getElementById("webcam_"+sid+"_btn_time");var pic=document.getElementById("webcam_"+sid+"_btn_picture");var screenshot=document.getElementById("webcam_"+sid+"_screenshot");onoff.style.display="block";if(status=="hidden"){nav.style.display="none"}
else if(status=="recording"){nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_recording";vid.style.display="none";rec.style.display="block";rec.style.visibility="visible";rec.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_record wfu_recording");stop.style.display="block";stop.style.visibility="visible";play.style.display="block";play.style.visibility="hidden";pause.style.display="block";pause.style.visibility="hidden";pos.style.display="block";pos.style.visibility="hidden";back.style.display="block";back.style.visibility="hidden";fwd.style.display="block";fwd.style.visibility="hidden";tim.style.display="block";tim.style.visibility="visible";pic.style.display="none";screenshot.style.display="none"}
else if(status=="after_recording"){nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_stream_ready";vid.style.display="block";vid.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_video");rec.style.display="none";stop.style.display="block";stop.style.visibility="hidden";play.style.display="block";play.style.visibility="hidden";pause.style.display="block";pause.style.visibility="hidden";pos.style.display="block";pos.style.visibility="hidden";back.style.display="block";back.style.visibility="hidden";fwd.style.display="block";fwd.style.visibility="hidden";tim.style.display="block";tim.style.visibility="hidden";pic.style.display="none";screenshot.style.display="block"}
else if(status=="ready_playback"){nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_stream_ready";vid.style.display="block";vid.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_video");rec.style.display="none";stop.style.display="block";stop.style.visibility="hidden";play.style.display="block";play.style.visibility="visible";play.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_play");pause.style.display="block";pause.style.visibility="visible";pause.setAttribute("class","wfu_file_webcam_btn_disabled wfu_file_webcam_btn_pause_disabled");pos.style.display="block";pos.style.visibility="visible";back.style.display="block";back.style.visibility="visible";fwd.style.display="block";fwd.style.visibility="visible";tim.style.display="block";tim.style.visibility="visible";pic.style.display="none";screenshot.style.display="none"}
else if(status=="after_screenshot"){nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_stream_ready";vid.style.display="block";vid.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_video");rec.style.display="none";stop.style.display="block";stop.style.visibility="hidden";play.style.display="block";play.style.visibility="hidden";pause.style.display="block";pause.style.visibility="hidden";pos.style.display="block";pos.style.visibility="hidden";back.style.display="block";back.style.visibility="hidden";fwd.style.display="block";fwd.style.visibility="hidden";tim.style.display="block";tim.style.visibility="hidden";pic.style.display="none";screenshot.style.display="block"}
else if(status=="playing"){nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_stream_ready";vid.style.display="block";vid.setAttribute("class","wfu_file_webcam_btn_disabled wfu_file_webcam_btn_video_disabled");rec.style.display="none";stop.style.display="block";stop.style.visibility="hidden";play.style.display="block";play.style.visibility="visible";play.setAttribute("class","wfu_file_webcam_btn_disabled wfu_file_webcam_btn_play_disabled");pause.style.display="block";pause.style.visibility="visible";pause.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_pause");pos.style.display="block";pos.style.visibility="visible";back.style.display="block";back.style.visibility="visible";fwd.style.display="block";fwd.style.visibility="visible";tim.style.display="block";tim.style.visibility="visible";pic.style.display="none";screenshot.style.display="none"}
else{nav.removeAttribute("style");nav.className="wfu_file_webcam_nav wfu_rec_ready";vid.style.display="none";rec.style.display="none";stop.style.display="none";play.style.display="none";pause.style.display="none";pos.style.display="none";back.style.display="none";fwd.style.display="none";tim.style.display="none";pic.style.display="none";screenshot.style.display="none";if(status=="idle_only_video"||status=="idle_video_and_pictures"){rec.style.display="block";rec.setAttribute("class","wfu_file_webcam_btn wfu_file_webcam_btn_record")}
if(status=="idle_only_pictures"||status=="idle_video_and_pictures"){pic.style.display="block"}}}
wfu_webcam_counter_status=function(sid,action){if(action=="start"){var d=new Date();window["wfu_webcam_props_"+sid].duration=0.0;window["wfu_webcam_props_"+sid].timeStart=d.getTime()/1000;window["wfu_webcam_props_"+sid].counting=!0;wfu_webcam_update_counter(sid)}
else{var d=new Date();window["wfu_webcam_props_"+sid].duration=d.getTime()/1000-window["wfu_webcam_props_"+sid].timeStart;window["wfu_webcam_props_"+sid].counting=!1}}
wfu_webcam_update_counter=function(sid){if(window["wfu_webcam_props_"+sid].counting){var d=new Date();var dif=d.getTime()/1000-window["wfu_webcam_props_"+sid].timeStart;wfu_webcam_update_timer(sid,dif);setTimeout(function(){wfu_webcam_update_counter(sid)},100)}}
wfu_webcam_update_timer=function(sid,time){var hours=Math.floor(time/3600);time-=hours*3600;var minutes=Math.floor(time/60);time-=minutes*60;var secs=Math.floor(time);var msecs=(time-Math.floor(time))*1000;document.getElementById("webcam_"+sid+"_btn_time_label").innerHTML=(hours>0?hours+":":"")+(minutes<10?"0":"")+minutes+":"+(secs<10?"0":"")+secs}
wfu_webcam_onoff=function(sid){if(window["wfu_webcam_props_"+sid].active){var container=document.getElementById("webcam_"+sid+"_inner");var video=document.getElementById("webcam_"+sid+"_box");var webcamoff=document.getElementById("webcam_"+sid+"_webcamoff");var img=document.getElementById("webcam_"+sid+"_webcamoff_img");img.style.width=container.clientWidth+"px";img.style.height=container.clientHeight+"px";video.pause();video.src="";video.load();if(window["wfu_webcam_props_"+sid].stream&&window["wfu_webcam_props_"+sid].stream.stop)
window["wfu_webcam_props_"+sid].stream.stop();window["wfu_webcam_props_"+sid].stream=null;window["wfu_webcam_props_"+sid].media=null;window["wfu_webcam_props_"+sid].blobs=null;wfu_webcam_set_nav_status(sid,"hidden");video.style.display="none";document.getElementById("webcam_"+sid+"_screenshot").src="";webcamoff.style.display="block";window["wfu_webcam_props_"+sid].active=!1}
else{wfu_reinitialize_webcam(sid)}
wfu_selectbutton_clicked(sid)}
wfu_webcam_golive=function(sid){if(window["wfu_webcam_props_"+sid].playing)return;wfu_reinitialize_webcam(sid);wfu_add_files(sid,[],!1);wfu_selectbutton_clicked(sid);wfu_update_uploadbutton_status(sid)}
wfu_webcam_start_rec=function(sid){if(window["wfu_webcam_props_"+sid].media&&window["wfu_webcam_props_"+sid].media.state&&window["wfu_webcam_props_"+sid].media.state=="recording")return;try{window["wfu_webcam_props_"+sid].media=new MediaRecorder(window["wfu_webcam_props_"+sid].stream)}
catch(err){alert(document.getElementById("webcam_"+sid+"_video_notsupported").value);return}
window["wfu_webcam_props_"+sid].blobs=[];window["wfu_webcam_props_"+sid].media.ondataavailable=function(e){var d=new Date();var dif=d.getTime()/1000-window["wfu_webcam_props_"+sid].timeStart;if(window["wfu_webcam_props_"+sid].maxrecordtime==-1||(window["wfu_webcam_props_"+sid].maxrecordtime>0&&dif<=window["wfu_webcam_props_"+sid].maxrecordtime)){if(e.data&&e.data.size>0){window["wfu_webcam_props_"+sid].blobs.push(e.data)}}
else{wfu_webcam_stop_rec(sid)}}
wfu_webcam_set_nav_status(sid,"recording");wfu_webcam_counter_status(sid,"start");window["wfu_webcam_props_"+sid].media.onstop=function(e){wfu_webcam_counter_status(sid,"stop");wfu_webcam_set_nav_status(sid,"after_recording");wfu_webcam_onstop(e,sid)}
window["wfu_webcam_props_"+sid].media.start(10)}
wfu_webcam_stop_rec=function(sid){window["wfu_webcam_props_"+sid].media.stop()}
wfu_webcam_onstop=function(e,sid){if(window["wfu_webcam_props_"+sid].blobs.length==0){alert(document.getElementById("webcam_"+sid+"_video_nothingrecorded").value);wfu_webcam_golive(sid)}
else{var video=document.getElementById("webcam_"+sid+"_box");var canvas=document.getElementById("webcam_"+sid+"_canvas");var screenshot=document.getElementById("webcam_"+sid+"_screenshot");if(window["wfu_webcam_props_"+sid].stream){canvas.width=video.clientWidth;canvas.height=video.clientHeight;var ctx=canvas.getContext('2d');ctx.drawImage(video,0,0,video.clientWidth,video.clientHeight);screenshot.src=canvas.toDataURL('image/webp')}
var superBuffer=new Blob(window["wfu_webcam_props_"+sid].blobs,{type:'video/mp4'});video.autoplay=!1;video.ontimeupdate=function(e){wfu_webcam_update_pos(sid)};video.onended=function(e){wfu_webcam_ended(sid)};video.onloadeddata=function(e){if(video.readyState>=2){wfu_webcam_set_nav_status(sid,"ready_playback")}}
video.onerror=function(e){video.onloadeddata=null;video.src=window.URL.createObjectURL(window["wfu_webcam_props_"+sid].stream)}
video.src=window.URL.createObjectURL(superBuffer);superBuffer.name="video.mp4";wfu_add_files(sid,[{file:superBuffer,props:{}}],!1);wfu_update_uploadbutton_status(sid)}}
wfu_webcam_play=function(sid){if(window["wfu_webcam_props_"+sid].playing)return;var video=document.getElementById("webcam_"+sid+"_box");wfu_webcam_set_nav_status(sid,"playing");window["wfu_webcam_props_"+sid].playing=!0;video.play()}
wfu_webcam_ended=function(sid){var video=document.getElementById("webcam_"+sid+"_box");video.src=video.src;wfu_webcam_set_nav_status(sid,"ready_playback");window["wfu_webcam_props_"+sid].playing=!1}
wfu_webcam_pause=function(sid){var video=document.getElementById("webcam_"+sid+"_box");video.pause();wfu_webcam_set_nav_status(sid,"ready_playback");window["wfu_webcam_props_"+sid].playing=!1}
wfu_webcam_back=function(sid){var video=document.getElementById("webcam_"+sid+"_box");video.src=video.src;video.currentTime=0}
wfu_webcam_fwd=function(sid){var video=document.getElementById("webcam_"+sid+"_box");video.currentTime=(isFinite(video.duration)?video.duration:window["wfu_webcam_props_"+sid].duration*2)}
wfu_webcam_take_picture=function(sid){var video=document.getElementById("webcam_"+sid+"_box");var canvas=document.getElementById("webcam_"+sid+"_canvas");var screenshot=document.getElementById("webcam_"+sid+"_screenshot");if(window["wfu_webcam_props_"+sid].stream){canvas.width=video.clientWidth;canvas.height=video.clientHeight;var ctx=canvas.getContext('2d');ctx.drawImage(video,0,0,video.clientWidth,video.clientHeight);screenshot.src=canvas.toDataURL('image/webp');wfu_webcam_set_nav_status(sid,"after_screenshot");if(!window.wfu_toBlob_function_initialized){!function(t){"use strict";var e=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,o=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),n=o&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,i=(o||r)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,i,l,u,b,c,d,B,f;if(e=t.match(a),!e)throw new Error("invalid data URI");for(i=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),l=!!e[4],u=t.slice(e[0].length),b=l?atob(u):decodeURIComponent(u),c=new ArrayBuffer(b.length),d=new Uint8Array(c),B=0;B<b.length;B+=1)d[B]=b.charCodeAt(B);return o?new Blob([n?d:c],{type:i}):(f=new r,f.append(c),f.getBlob(i))};t.HTMLCanvasElement&&!e.toBlob&&(e.mozGetAsFile?e.toBlob=function(t,o,n){t(n&&e.toDataURL&&i?i(this.toDataURL(o,n)):this.mozGetAsFile("blob",o))}:e.toDataURL&&i&&(e.toBlob=function(t,e,o){t(i(this.toDataURL(e,o)))})),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof module&&module.exports?module.exports=i:t.dataURLtoBlob=i}(window);window.wfu_toBlob_function_initialized=!0}
if(canvas.toBlob){canvas.toBlob(function(blob){blob.name="image.png";wfu_add_files(sid,[{file:blob,props:{}}],!1);wfu_update_uploadbutton_status(sid)},'image/png')}}}
wfu_webcam_update_pos=function(sid){var video=document.getElementById("webcam_"+sid+"_box");var pointer=document.getElementById("webcam_"+sid+"_btn_pointer");var duration=(isFinite(video.duration)?video.duration:window["wfu_webcam_props_"+sid].duration);var pos=Math.round(video.currentTime/duration*100);pointer.style.left=pos+"%";wfu_webcam_update_timer(sid,video.currentTime)};jQuery(window).ready(function(){function is_touch_device(){return(('ontouchstart'in window)||(navigator.MaxTouchPoints>0)||(navigator.msMaxTouchPoints>0));}
if(is_touch_device()){jQuery('body').addClass('touchon');}
if(jQuery(window).width()>768){jQuery('#topmenu ul > li').not('#topmenu ul > li.mega-menu-item').hoverIntent(function(){jQuery(this).find('.sub-menu, ul.children').eq(0).removeClass('animated fadeOut').addClass('animated fadeInUp menushow');},function(){jQuery(this).find('.sub-menu, ul.children').eq(0).addClass('animated fadeOut').delay(300).queue(function(next){jQuery(this).removeClass("animated fadeInUp menushow");next();});});jQuery('#topmenu ul li ul li').not('#topmenu ul li.mega-menu-item ul.mega-sub-menu li').hoverIntent(function(){jQuery(this).find('.sub-menu, ul.children').eq(0).removeClass('animated fadeOut').addClass('animated fadeInUp menushow');},function(){jQuery(this).find('.sub-menu, ul.children').eq(0).addClass('animated fadeOut').delay(300).queue(function(next){jQuery(this).removeClass("animated fadeInUp menushow");next();});});jQuery('#topmenu ul li').not('#topmenu ul li.mega-menu-item, #topmenu ul li ul li').hover(function(){jQuery(this).addClass('menu_hover');},function(){jQuery(this).removeClass('menu_hover');});jQuery('#topmenu li').has("ul").addClass('zn_parent_menu');jQuery('.zn_parent_menu > a').append('<span class="menu_arrow"><i class="fa-angle-down"></i></span>');}
jQuery('.midrow_blocks_wrap').each(function(index,element){jQuery(this).waitForImages(function(){jQuery(this).find('.midrow_block').matchHeight({property:'min-height'});});});jQuery(".lay1").each(function(index,element){var divs=jQuery(this).find(".hentry");for(var i=0;i<divs.length;i+=3){divs.slice(i,i+3).wrapAll("<div class='ast_row'></div>");}
if(jQuery(window).width()<1200){var flaywidth=jQuery(this).find(".hentry").width();jQuery(this).find('.post_image').css({"maxHeight":(flaywidth*66)/100});}});jQuery('.lay1 .postitle a:empty').closest("h2").addClass('no_title');jQuery('.no_title').css({"padding":"0"});jQuery('.lay1 h2.postitle a').each(function(){if(jQuery(this).height()>80){jQuery(this).parent().parent().parent().addClass('lowreadmo');}});jQuery('.lts_layout1 .listing-item h2').each(function(){if(jQuery(this).outerHeight()>76){jQuery(this).parent().addClass('lowreadmo');}});jQuery(window).bind("scroll",function(){if(jQuery(this).scrollTop()>800){jQuery(".to_top").fadeIn('slow');}else{jQuery(".to_top").fadeOut('fast');}});jQuery(".to_top").click(function(){jQuery("html, body").animate({scrollTop:0},"slow");return false;});jQuery('.stat_has_img').waitForImages(function(){var statimg=jQuery(".stat_has_img .stat_bg_img").attr('src');var statimgheight=jQuery(".stat_has_img .stat_bg_img").height()+jQuery(".header").height();var hheight=jQuery(".header").height();jQuery("body.home").prepend('<div class="stat_bg" style="height:'+statimgheight+'px"><img src="'+statimg+'" /></div><div class="stat_bg_overlay overlay_off" style="height:'+statimgheight+'px" />');jQuery('#slidera').css({"minHeight":"initial"});jQuery('.home .stat_has_img .stat_bg_img').css('opacity',0);overlayon=jQuery(".home .stat_has_img");overlayon.waypoint({handler:function(direction){jQuery('.home .stat_bg_overlay').removeClass("overlay_off").addClass("overlay_on");},offset:'-170px'});overlayoff=jQuery(".home .stat_has_img");overlayoff.waypoint({handler:function(direction){jQuery('.home .stat_bg_overlay').removeClass("overlay_on").addClass("overlay_off");;},offset:'-90px'});});jQuery('.stat_has_img').waitForImages(function(){var resizeTimer;jQuery(window).bind("load resize",function(){clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){var body_size=jQuery('.stat_has_img .stat_content_inner .center').height()+120;jQuery('#stat_img, .stat_bg img, .stat_bg_overlay').css('min-height',body_size);},50);});});jQuery(window).bind("load resize",function(){if(jQuery(window).width()<=480){jQuery(".stat_bg_img").css({"opacity":"0"});jQuery('.stat_content_inner').waitForImages(function(){jQuery("#stat_img").height(jQuery(".stat_content_inner").height());});var statbg=jQuery(".stat_bg_img").attr('src');jQuery(".stat_has_img").css({"background":"url("+statbg+")","background-repeat":"no-repeat","background-size":"cover"});}
if(jQuery(window).width()<=960<=480){var statbg=jQuery(".stat_bg_img").attr('src');jQuery(".stat_has_img").css({"background":"url("+statbg+") top center","background-repeat":"no-repeat","background-size":"cover"});jQuery('.has_trans_header .stat_content_inner, .has_trans_header .header').waitForImages(function(){var mhheight=jQuery(".has_trans_header .header").height();jQuery(".has_trans_header .stat_content_inner").css({"paddingTop":mhheight});});}});if(jQuery(window).width()>480){jQuery('.home #zn_nivo, .home #accordion').waitForImages(function(){var sliderheight=jQuery('.home #zn_nivo, .home #accordion').height();jQuery('.home #zn_nivo, .home #accordion').waypoint(function(){jQuery(".is-sticky .header").addClass("headcolor");},{offset:'-'+sliderheight/2+'px'});jQuery('.home #zn_nivo, .home #accordion').waypoint(function(){jQuery(".is-sticky .header").removeClass("headcolor");},{offset:'-90px'});});jQuery('.block_type2 .midrow_blocks .midrow_block').css({"opacity":"0"});jQuery('.block_type1 .midrow_blocks').waypoint(function(){jQuery(this).addClass('animated bounceIn');},{offset:'90%'});jQuery('.block_type2 .midrow_blocks .midrow_block').waypoint(function(){jQuery(this).addClass('animated fadeInUp');},{offset:'90%'});jQuery('.welcmblock .text_block_wrap').css({"opacity":"0"});jQuery('.welcmblock .text_block_wrap').waypoint(function(){jQuery(this).addClass('animated fadeIn');},{offset:'90%'});jQuery('.home .postsblck .center').css({"opacity":"0"});jQuery('.home .postsblck .center').waypoint(function(){jQuery(this).addClass('animated fadeInUp');},{offset:'85%'});}
var link=jQuery('.ast-next > a').attr('href');jQuery('.right_arro').attr('href',link);var link=jQuery('.ast-prev > a').attr('href');jQuery('.left_arro').attr('href',link);jQuery("#sidebar .widget_pages ul li a, #sidebar .widget_meta ul li a, #sidebar .widget_nav_menu ul li a, #sidebar .widget_categories ul li a, #sidebar .widget_recent_entries ul li a, #sidebar .widget_recent_comments ul li, #sidebar .widget_archive ul li, #sidebar .widget_rss ul li").prepend('<i class="fa-double-angle-right"></i> ');jQuery('#sidebar .fa-double-angle-right').css({"opacity":"0.5"});var padmenu=jQuery("#simple-menu").html();jQuery('#simple-menu').sidr({name:'sidr-main',source:'#topmenu',side:'right'});jQuery(".sidr").prepend("<div class='pad_menutitle'>"+padmenu+"<span><i class='fa-times'></i></span></div>");jQuery('.sidr-class-menu-item i').attr('class',function(_,klass){return'fa fa'+klass.split('-fa').pop();});jQuery("#topmenu .head_soc").clone().appendTo(".sidr-class-head_soc");jQuery(".pad_menutitle span").click(function(){jQuery.sidr('close','sidr-main')
preventDefaultEvents:false;});if(jQuery(window).width()<1025){if(jQuery("#topmenu:has(ul)").length==0){jQuery('#simple-menu').addClass('hide_mob_menu');}}
if(jQuery(window).width()<480){jQuery(".nivo-control").text('');}
jQuery(function(){var n=0,$imgs=jQuery('.slider-wrapper .sldimg'),val=100/$imgs.length,$bar=jQuery('#astbar');$progrssn=jQuery('.progrssn');$imgs.load(function(){n=n+val;$progrssn.css({"bottom":n+'%'});var numTruncated=parseFloat(n).toFixed(0);$bar.text(numTruncated+'%');});});jQuery('.slider-wrapper').waitForImages(function(){jQuery("#zn_nivo, .nivo-controlNav, #slide_acord, .nivoinner").css({"display":"block"});jQuery(".pbar_wrap").fadeOut();});jQuery('#slidera').has('#stat_img').addClass('selected_stat');jQuery('#slidera').has('.slide_wrap').addClass('selected_slide');if(jQuery(window).width()<1025){jQuery('.dlthref').removeAttr("href");}
jQuery("#sidebar .widget .widgettitle, .related_h3, h3#comments, #reply-title").after("<span class='widget_border' />");jQuery(".comm_wrap").insertAfter(".comment-form-comment");jQuery(".comm_wrap input").placeholder();jQuery('body').has('.error_msg').addClass('error404');jQuery(".nav-box.ast-prev, .nav-box.ast-next").not(":has(img)").addClass('navbox-noimg');jQuery(window).bind("load",function(){var docHeight=jQuery(window).height();var footerHeight=jQuery('#footer').height();var footerTop=jQuery('#footer').position().top+footerHeight;if(footerTop<docHeight){jQuery('#footer').css('margin-top',1+(docHeight-footerTop)+'px');}});jQuery('.lay1.optimposts, .lay4.optimposts').each(function(index,element){jQuery(this).waitForImages(function(){jQuery(this).find('.type-product').matchHeight({property:'min-height'});});});jQuery('.lay1.optimposts .type-product').each(function(index,element){if(jQuery(window).width()>=960){jQuery(this).find('.button.add_to_cart_button').prependTo(jQuery(this).find('.imgwrap'));}
jQuery(this).find('span.price').prependTo(jQuery(this).find('.post_image '));});});jQuery(window).on('load scroll',function(){var scrollTop=jQuery(this).scrollTop();var hheight=jQuery(".header").height()+jQuery('.admin-bar #wpadminbar').height()+jQuery('#customizer_topbar').height();if(!scrollTop){jQuery('body:not(.has_trans_header) .stat_bg img').css({"top":hheight+"px"});jQuery('body:not(.has_trans_header) .stat_bg').css({"background-position-y":hheight+"px"});}else{jQuery('body:not(.has_trans_header) .stat_bg img').css({"top":"0px"});jQuery('body:not(.has_trans_header) .stat_bg').css({"background-position-y":"0px"});}});function getMobileOperatingSystem(){var userAgent=navigator.userAgent||navigator.vendor||window.opera;if(userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)||userAgent.match(/iPod/i))
{return'iOS';}}
var isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);jQuery(window).ready(function(){if(getMobileOperatingSystem()=='iOS'){jQuery('body').addClass('is-ios');}else{jQuery('body').addClass('not-ios');}
if(isSafari==true){jQuery('body').addClass('is_safari');}});;jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return-h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return-h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return-h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return-h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return-h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return-h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return-h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return-h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return-(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return-0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});
/*!
jQuery Waypoints - v2.0.5
Copyright (c) 2011-2014 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++){if(e in this&&this[e]===t)return e}return-1},e=[].slice;(function(t,e){if(typeof define==="function"&&define.amd){return define("waypoints",["jquery"],function(n){return e(n,t)})}else{return e(t.jQuery,t)}})(window,function(n,r){var i,o,l,s,f,u,c,a,h,d,p,y,v,w,g,m;i=n(r);a=t.call(r,"ontouchstart")>=0;s={horizontal:{},vertical:{}};f=1;c={};u="waypoints-context-id";p="resize.waypoints";y="scroll.waypoints";v=1;w="waypoints-waypoint-ids";g="waypoint";m="waypoints";o=function(){function t(t){var e=this;this.$element=t;this.element=t[0];this.didResize=false;this.didScroll=false;this.id="context"+f++;this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element[u]=this.id;c[this.id]=this;t.bind(y,function(){var t;if(!(e.didScroll||a)){e.didScroll=true;t=function(){e.doScroll();return e.didScroll=false};return r.setTimeout(t,n[m].settings.scrollThrottle)}});t.bind(p,function(){var t;if(!e.didResize){e.didResize=true;t=function(){n[m]("refresh");return e.didResize=false};return r.setTimeout(t,n[m].settings.resizeThrottle)}})}t.prototype.doScroll=function(){var t,e=this;t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};if(a&&(!t.vertical.oldScroll||!t.vertical.newScroll)){n[m]("refresh")}n.each(t,function(t,r){var i,o,l;l=[];o=r.newScroll>r.oldScroll;i=o?r.forward:r.backward;n.each(e.waypoints[t],function(t,e){var n,i;if(r.oldScroll<(n=e.offset)&&n<=r.newScroll){return l.push(e)}else if(r.newScroll<(i=e.offset)&&i<=r.oldScroll){return l.push(e)}});l.sort(function(t,e){return t.offset-e.offset});if(!o){l.reverse()}return n.each(l,function(t,e){if(e.options.continuous||t===l.length-1){return e.trigger([i])}})});return this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}};t.prototype.refresh=function(){var t,e,r,i=this;r=n.isWindow(this.element);e=this.$element.offset();this.doScroll();t={horizontal:{contextOffset:r?0:e.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:e.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?n[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return n.each(t,function(t,e){return n.each(i.waypoints[t],function(t,r){var i,o,l,s,f;i=r.options.offset;l=r.offset;o=n.isWindow(r.element)?0:r.$element.offset()[e.offsetProp];if(n.isFunction(i)){i=i.apply(r.element)}else if(typeof i==="string"){i=parseFloat(i);if(r.options.offset.indexOf("%")>-1){i=Math.ceil(e.contextDimension*i/100)}}r.offset=o-e.contextOffset+e.contextScroll-i;if(r.options.onlyOnScroll&&l!=null||!r.enabled){return}if(l!==null&&l<(s=e.oldScroll)&&s<=r.offset){return r.trigger([e.backward])}else if(l!==null&&l>(f=e.oldScroll)&&f>=r.offset){return r.trigger([e.forward])}else if(l===null&&e.oldScroll>=r.offset){return r.trigger([e.forward])}})})};t.prototype.checkEmpty=function(){if(n.isEmptyObject(this.waypoints.horizontal)&&n.isEmptyObject(this.waypoints.vertical)){this.$element.unbind([p,y].join(" "));return delete c[this.id]}};return t}();l=function(){function t(t,e,r){var i,o;if(r.offset==="bottom-in-view"){r.offset=function(){var t;t=n[m]("viewportHeight");if(!n.isWindow(e.element)){t=e.$element.height()}return t-n(this).outerHeight()}}this.$element=t;this.element=t[0];this.axis=r.horizontal?"horizontal":"vertical";this.callback=r.handler;this.context=e;this.enabled=r.enabled;this.id="waypoints"+v++;this.offset=null;this.options=r;e.waypoints[this.axis][this.id]=this;s[this.axis][this.id]=this;i=(o=this.element[w])!=null?o:[];i.push(this.id);this.element[w]=i}t.prototype.trigger=function(t){if(!this.enabled){return}if(this.callback!=null){this.callback.apply(this.element,t)}if(this.options.triggerOnce){return this.destroy()}};t.prototype.disable=function(){return this.enabled=false};t.prototype.enable=function(){this.context.refresh();return this.enabled=true};t.prototype.destroy=function(){delete s[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];return this.context.checkEmpty()};t.getWaypointsByElement=function(t){var e,r;r=t[w];if(!r){return[]}e=n.extend({},s.horizontal,s.vertical);return n.map(r,function(t){return e[t]})};return t}();d={init:function(t,e){var r;e=n.extend({},n.fn[g].defaults,e);if((r=e.handler)==null){e.handler=t}this.each(function(){var t,r,i,s;t=n(this);i=(s=e.context)!=null?s:n.fn[g].defaults.context;if(!n.isWindow(i)){i=t.closest(i)}i=n(i);r=c[i[0][u]];if(!r){r=new o(i)}return new l(t,r,e)});n[m]("refresh");return this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e>0){return t.push(n[e-1])}})},next:function(t,e){return d._traverse.call(this,t,e,function(t,e,n){if(e<n.length-1){return t.push(n[e+1])}})},_traverse:function(t,e,i){var o,l;if(t==null){t="vertical"}if(e==null){e=r}l=h.aggregate(e);o=[];this.each(function(){var e;e=n.inArray(this,l[t]);return i(o,e,l[t])});return this.pushStack(o)},_invoke:function(t){this.each(function(){var e;e=l.getWaypointsByElement(this);return n.each(e,function(e,n){n[t]();return true})});return this}};n.fn[g]=function(){var t,r;r=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(d[r]){return d[r].apply(this,t)}else if(n.isFunction(r)){return d.init.apply(this,arguments)}else if(n.isPlainObject(r)){return d.init.apply(this,[null,r])}else if(!r){return n.error("jQuery Waypoints needs a callback function or handler option.")}else{return n.error("The "+r+" method does not exist in jQuery Waypoints.")}};n.fn[g].defaults={context:r,continuous:true,enabled:true,horizontal:false,offset:0,triggerOnce:false};h={refresh:function(){return n.each(c,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return(t=r.innerHeight)!=null?t:i.height()},aggregate:function(t){var e,r,i;e=s;if(t){e=(i=c[n(t)[0][u]])!=null?i.waypoints:void 0}if(!e){return[]}r={horizontal:[],vertical:[]};n.each(r,function(t,i){n.each(e[t],function(t,e){return i.push(e)});i.sort(function(t,e){return t.offset-e.offset});r[t]=n.map(i,function(t){return t.element});return r[t]=n.unique(r[t])});return r},above:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){if(t==null){t=r}return h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){if(t==null){t=r}return h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return d[t]=e},_invoke:function(t){var e;e=n.extend({},s.vertical,s.horizontal);return n.each(e,function(e,n){n[t]();return true})},_filter:function(t,e,r){var i,o;i=c[n(t)[0][u]];if(!i){return[]}o=[];n.each(i.waypoints[e],function(t,e){if(r(i,e)){return o.push(e)}});o.sort(function(t,e){return t.offset-e.offset});return n.map(o,function(t){return t.element})}};n[m]=function(){var t,n;n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[];if(h[n]){return h[n].apply(null,t)}else{return h.aggregate.call(null,n)}};n[m].settings={resizeThrottle:100,scrollThrottle:30};return i.on("load.waypoints",function(){return n[m]("refresh")})})}).call(this);
/*!
 * The Final Countdown for jQuery v2.0.4 (http://hilios.github.io/jQuery.countdown/)
 * Copyright (c) 2014 Edson Hilios
 * 
 * licensed under the MIT License.
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(a){if(a instanceof Date)return a;if(String(a).match(h))return String(a).match(/^[0-9]*$/)&&(a=Number(a)),String(a).match(/\-/)&&(a=String(a).replace(/\-/g,"/")),new Date(a);throw new Error("Couldn't cast `"+a+"` to a date object.")}function c(a){var b=a.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(b)}function d(a){return function(b){var d=b.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(d)for(var f=0,g=d.length;g>f;++f){var h=d[f].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),j=c(h[0]),k=h[1]||"",l=h[3]||"",m=null;h=h[2],i.hasOwnProperty(h)&&(m=i[h],m=Number(a[m])),null!==m&&("!"===k&&(m=e(l,m)),""===k&&10>m&&(m="0"+m.toString()),b=b.replace(j,m.toString()))}return b=b.replace(/%%/,"%")}}function e(a,b){var c="s",d="";return a&&(a=a.replace(/(:|;|\s)/gi,"").split(/\,/),1===a.length?c=a[0]:(d=a[0],c=a[1])),1===Math.abs(b)?d:c}var f=100,g=[],h=[];h.push(/^[0-9]*$/.source),h.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),h.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),h=new RegExp(h.join("|"));var i={Y:"years",m:"months",w:"weeks",d:"days",D:"totalDays",H:"hours",M:"minutes",S:"seconds"},j=function(b,c,d){this.el=b,this.$el=a(b),this.interval=null,this.offset={},this.instanceNumber=g.length,g.push(this),this.$el.data("countdown-instance",this.instanceNumber),d&&(this.$el.on("update.countdown",d),this.$el.on("stoped.countdown",d),this.$el.on("finish.countdown",d)),this.setFinalDate(c),this.start()};a.extend(j.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var a=this;this.update(),this.interval=setInterval(function(){a.update.call(a)},f)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),g[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(a){this.finalDate=b(a)},update:function(){return 0===this.$el.closest("html").length?void this.remove():(this.totalSecsLeft=this.finalDate.getTime()-(new Date).getTime(),this.totalSecsLeft=Math.ceil(this.totalSecsLeft/1e3),this.totalSecsLeft=this.totalSecsLeft<0?0:this.totalSecsLeft,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,totalDays:Math.floor(this.totalSecsLeft/60/60/24),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),months:Math.floor(this.totalSecsLeft/60/60/24/30),years:Math.floor(this.totalSecsLeft/60/60/24/365)},void(0===this.totalSecsLeft?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")))},dispatchEvent:function(b){var c=a.Event(b+".countdown");c.finalDate=this.finalDate,c.offset=a.extend({},this.offset),c.strftime=d(this.offset),this.$el.trigger(c)}}),a.fn.countdown=function(){var b=Array.prototype.slice.call(arguments,0);return this.each(function(){var c=a(this).data("countdown-instance");if(void 0!==c){var d=g[c],e=b[0];j.prototype.hasOwnProperty(e)?d[e].apply(d,b.slice(1)):null===String(e).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(d.setFinalDate.call(d,e),d.start()):a.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,e))}else new j(this,b[0],b[1])})}});(function(c){var n=-1,f=-1,g=function(a){return parseFloat(a)||0},r=function(a){var b=null,d=[];c(a).each(function(){var a=c(this),k=a.offset().top-g(a.css("margin-top")),l=0<d.length?d[d.length-1]:null;null===l?d.push(a):1>=Math.floor(Math.abs(b-k))?d[d.length-1]=l.add(a):d.push(a);b=k});return d},p=function(a){var b={byRow:!0,property:"height",target:null,remove:!1};if("object"===typeof a)return c.extend(b,a);"boolean"===typeof a?b.byRow=a:"remove"===a&&(b.remove=!0);return b},b=c.fn.matchHeight=function(a){a=p(a);if(a.remove){var e=this;this.css(a.property,"");c.each(b._groups,function(a,b){b.elements=b.elements.not(e)});return this}if(1>=this.length&&!a.target)return this;b._groups.push({elements:this,options:a});b._apply(this,a);return this};b._groups=[];b._throttle=80;b._maintainScroll=!1;b._beforeUpdate=null;b._afterUpdate=null;b._apply=function(a,e){var d=p(e),h=c(a),k=[h],l=c(window).scrollTop(),f=c("html").outerHeight(!0),m=h.parents().filter(":hidden");m.each(function(){var a=c(this);a.data("style-cache",a.attr("style"))});m.css("display","block");d.byRow&&!d.target&&(h.each(function(){var a=c(this),b="inline-block"===a.css("display")?"inline-block":"block";a.data("style-cache",a.attr("style"));a.css({display:b,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px"})}),k=r(h),h.each(function(){var a=c(this);a.attr("style",a.data("style-cache")||"")}));c.each(k,function(a,b){var e=c(b),f=0;if(d.target)f=d.target.outerHeight(!1);else{if(d.byRow&&1>=e.length){e.css(d.property,"");return}e.each(function(){var a=c(this),b={display:"inline-block"===a.css("display")?"inline-block":"block"};b[d.property]="";a.css(b);a.outerHeight(!1)>f&&(f=a.outerHeight(!1));a.css("display","")})}e.each(function(){var a=c(this),b=0;d.target&&a.is(d.target)||("border-box"!==a.css("box-sizing")&&(b+=g(a.css("border-top-width"))+g(a.css("border-bottom-width")),b+=g(a.css("padding-top"))+g(a.css("padding-bottom"))),a.css(d.property,f-b))})});m.each(function(){var a=c(this);a.attr("style",a.data("style-cache")||null)});b._maintainScroll&&c(window).scrollTop(l/f*c("html").outerHeight(!0));return this};b._applyDataApi=function(){var a={};c("[data-match-height], [data-mh]").each(function(){var b=c(this),d=b.attr("data-mh")||b.attr("data-match-height");a[d]=d in a?a[d].add(b):b});c.each(a,function(){this.matchHeight(!0)})};var q=function(a){b._beforeUpdate&&b._beforeUpdate(a,b._groups);c.each(b._groups,function(){b._apply(this.elements,this.options)});b._afterUpdate&&b._afterUpdate(a,b._groups)};b._update=function(a,e){if(e&&"resize"===e.type){var d=c(window).width();if(d===n)return;n=d}a?-1===f&&(f=setTimeout(function(){q(e);f=-1},b._throttle)):q(e)};c(b._applyDataApi);c(window).bind("load",function(a){b._update(!1,a)});c(window).bind("resize orientationchange",function(a){b._update(!0,a)})})(jQuery);
/*! Sidr - v1.1.1 - 2015-11-04
 * https://github.com/sammoore/sidr
 * Copyright (c) 2013 Alberto Varela; Licensed MIT */
!function(e){var t=!1,i=!1,n={isUrl:function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(e)?!0:!1},loadContent:function(e,t){e.html(t)},addPrefix:function(e){var t=e.attr("id"),i=e.attr("class");"string"==typeof t&&""!==t&&e.attr("id",t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof i&&""!==i&&"sidr-inner"!==i&&e.attr("class",i.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),e.removeAttr("style")},execute:function(n,s,a){"function"==typeof s?(a=s,s="sidr"):s||(s="sidr");var r,d,l,c=e("#"+s),u=e(c.data("body")),f=e("html"),p=c.outerWidth(!0),g=c.data("speed"),h=c.data("side"),m=c.data("displace"),v=c.data("onOpen"),y=c.data("onClose"),x="sidr"===s?"sidr-open":"sidr-open "+s+"-open";if("open"===n||"toggle"===n&&!c.is(":visible")){if(c.is(":visible")||t)return;if(i!==!1)return void o.close(i,function(){o.open(s)});t=!0,"left"===h?(r={left:p+"px"},d={left:"0px"}):(r={right:p+"px"},d={right:"0px"}),u.is("body")&&(l=f.scrollTop(),f.css("overflow-x","hidden").scrollTop(l)),m?u.addClass("sidr-animating").css({width:u.width(),position:"absolute"}).animate(r,g,function(){e(this).addClass(x)}):setTimeout(function(){e(this).addClass(x)},g),c.css("display","block").animate(d,g,function(){t=!1,i=s,"function"==typeof a&&a(s),u.removeClass("sidr-animating")}),v()}else{if(!c.is(":visible")||t)return;t=!0,"left"===h?(r={left:0},d={left:"-"+p+"px"}):(r={right:0},d={right:"-"+p+"px"}),u.is("body")&&(l=f.scrollTop(),f.removeAttr("style").scrollTop(l)),u.addClass("sidr-animating").animate(r,g).removeClass(x),c.animate(d,g,function(){c.removeAttr("style").hide(),u.removeAttr("style"),e("html").removeAttr("style"),t=!1,i=!1,"function"==typeof a&&a(s),u.removeClass("sidr-animating")}),y()}}},o={open:function(e,t){n.execute("open",e,t)},close:function(e,t){n.execute("close",e,t)},toggle:function(e,t){n.execute("toggle",e,t)},toogle:function(e,t){n.execute("toggle",e,t)}};e.sidr=function(t){return o[t]?o[t].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof t&&"string"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.sidr"):o.toggle.apply(this,arguments)},e.fn.sidr=function(s){var a=e.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},s),r=a.name,d=e("#"+r);if(0===d.length&&(d=e("<div />").attr("id",r).appendTo(e("body"))),d.addClass("sidr").addClass(a.side).data({speed:a.speed,side:a.side,body:a.body,displace:a.displace,onOpen:a.onOpen,onClose:a.onClose}),"function"==typeof a.source){var l=a.source(r);n.loadContent(d,l)}else if("string"==typeof a.source&&n.isUrl(a.source))e.get(a.source,function(e){n.loadContent(d,e)});else if("string"==typeof a.source){var c="",u=a.source.split(",");if(e.each(u,function(t,i){c+='<div class="sidr-inner">'+e(i).html()+"</div>"}),a.renaming){var f=e("<div />").html(c);f.find("*").each(function(t,i){var o=e(i);n.addPrefix(o)}),c=f.html()}n.loadContent(d,c)}else null!==a.source&&e.error("Invalid Sidr Source");return e("#"+r).find("a").each(function(){e(this).click(function(){o.toggle(r)})}),e(window).on("resize",function(){e.sidr("close",r)}),this.each(function(){var n=e(this),s=n.data("sidr");s||(i=!1,t=!1,n.data("sidr",r),"ontouchstart"in document.documentElement&&(n.bind("touchstart",function(e){e.originalEvent.touches[0];this.touched=e.timeStamp}),n.bind("touchend",function(e){var t=Math.abs(e.timeStamp-this.touched);200>t&&(e.preventDefault(),o.toggle(r))})),n.click(function(e){e.preventDefault(),o.toggle(r)}))})}}(jQuery);
/*! waitForImages jQuery Plugin -  v2.1.0 - 2016-01-04
* https://github.com/alexanderdickson/waitForImages
* Copyright (c) 2014 Alex Dickson; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var b="waitForImages";a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},a.expr[":"]["has-src"]=function(b){return a(b).is('img[src][src!=""]')},a.expr[":"].uncached=function(b){return a(b).is(":has-src")?!b.complete:!1},a.fn.waitForImages=function(){var c,d,e,f=0,g=0,h=a.Deferred();if(a.isPlainObject(arguments[0])?(e=arguments[0].waitForAll,d=arguments[0].each,c=arguments[0].finished):1===arguments.length&&"boolean"===a.type(arguments[0])?e=arguments[0]:(c=arguments[0],d=arguments[1],e=arguments[2]),c=c||a.noop,d=d||a.noop,e=!!e,!a.isFunction(c)||!a.isFunction(d))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var i=a(this),j=[],k=a.waitForImages.hasImageProperties||[],l=a.waitForImages.hasImageAttributes||[],m=/url\(\s*(['"]?)(.*?)\1\s*\)/g;e?i.find("*").addBack().each(function(){var b=a(this);b.is("img:has-src")&&!b.is("[srcset]")&&j.push({src:b.attr("src"),element:b[0]}),a.each(k,function(a,c){var d,e=b.css(c);if(!e)return!0;for(;d=m.exec(e);)j.push({src:d[2],element:b[0]})}),a.each(l,function(a,c){var d=b.attr(c);return d?void j.push({src:b.attr("src"),srcset:b.attr("srcset"),element:b[0]}):!0})}):i.find("img:has-src").each(function(){j.push({src:this.src,element:this})}),f=j.length,g=0,0===f&&(c.call(i[0]),h.resolveWith(i[0])),a.each(j,function(e,j){var k=new Image,l="load."+b+" error."+b;a(k).one(l,function m(b){var e=[g,f,"load"==b.type];return g++,d.apply(j.element,e),h.notifyWith(j.element,e),a(this).off(l,m),g==f?(c.call(i[0]),h.resolveWith(i[0]),!1):void 0}),j.srcset&&(k.srcset=j.srcset),k.src=j.src})}),h.promise()}});
/*! pace 1.0.2   |    https://github.com/HubSpot/pace/    |    License: MIT*/
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=["ajax","document","eventLag","elements"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d="translate3d("+this.progress+"%, 0, 0)",g=["webkitTransform","msTransform","transform"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{e.push(null==a[d]&&"function"!=typeof b[d]?"function"==typeof Object.defineProperty?Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0}):a[d]=b.prototype[d]:void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("ignore"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("track"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a="GET"),"track"===A[0])return"force";if(!A.length&&D.ajax){if("socket"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&"force"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c="socket"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger("stop"),j.running=!1,r.destroy(),s=!0,null!=p&&("function"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger("done"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return j}):"object"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);(function(){function c(){var e=false;if(e){N("keydown",y)}if(t.keyboardSupport&&!e){T("keydown",y)}}function h(){if(!document.body)return;var e=document.body;var i=document.documentElement;var a=window.innerHeight;var f=e.scrollHeight;o=document.compatMode.indexOf("CSS")>=0?i:e;u=e;c();s=true;if(top!=self){r=true}else if(f>a&&(e.offsetHeight<=a||i.offsetHeight<=a)){var l=false;var h=function(){if(!l&&i.scrollHeight!=document.height){l=true;setTimeout(function(){i.style.height=document.height+"px";l=false},500)}};i.style.height="auto";setTimeout(h,10);if(o.offsetHeight<=a){var p=document.createElement("div");p.style.clear="both";e.appendChild(p)}}if(!t.fixedBackground&&!n){e.style.backgroundAttachment="scroll";i.style.backgroundAttachment="scroll"}}function m(e,n,r,i){i||(i=1e3);k(n,r);if(t.accelerationMax!=1){var s=+(new Date);var o=s-v;if(o<t.accelerationDelta){var u=(1+30/o)/2;if(u>1){u=Math.min(u,t.accelerationMax);n*=u;r*=u}}v=+(new Date)}p.push({x:n,y:r,lastX:n<0?.99:-.99,lastY:r<0?.99:-.99,start:+(new Date)});if(d){return}var a=e===document.body;var f=function(s){var o=+(new Date);var u=0;var l=0;for(var c=0;c<p.length;c++){var h=p[c];var v=o-h.start;var m=v>=t.animationTime;var g=m?1:v/t.animationTime;if(t.pulseAlgorithm){g=D(g)}var y=h.x*g-h.lastX>>0;var b=h.y*g-h.lastY>>0;u+=y;l+=b;h.lastX+=y;h.lastY+=b;if(m){p.splice(c,1);c--}}if(a){window.scrollBy(u,l)}else{if(u)e.scrollLeft+=u;if(l)e.scrollTop+=l}if(!n&&!r){p=[]}if(p.length){M(f,e,i/t.frameRate+1)}else{d=false}};M(f,e,0);d=true}function g(e){if(!s){h()}var n=e.target;var r=x(n);if(!r||e.defaultPrevented||C(u,"embed")||C(n,"embed")&&/\.pdf/i.test(n.src)){return true}var i=e.wheelDeltaX||0;var o=e.wheelDeltaY||0;if(!i&&!o){o=e.wheelDelta||0}if(!t.touchpadSupport&&A(o)){return true}if(Math.abs(i)>1.2){i*=t.stepSize/120}if(Math.abs(o)>1.2){o*=t.stepSize/120}m(r,-i,-o);e.preventDefault()}function y(e){var n=e.target;var r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==l.spacebar;if(/input|textarea|select|embed/i.test(n.nodeName)||n.isContentEditable||e.defaultPrevented||r){return true}if(C(n,"button")&&e.keyCode===l.spacebar){return true}var i,s=0,o=0;var a=x(u);var f=a.clientHeight;if(a==document.body){f=window.innerHeight}switch(e.keyCode){case l.up:o=-t.arrowScroll;break;case l.down:o=t.arrowScroll;break;case l.spacebar:i=e.shiftKey?1:-1;o=-i*f*.9;break;case l.pageup:o=-f*.9;break;case l.pagedown:o=f*.9;break;case l.home:o=-a.scrollTop;break;case l.end:var c=a.scrollHeight-a.scrollTop-f;o=c>0?c+10:0;break;case l.left:s=-t.arrowScroll;break;case l.right:s=t.arrowScroll;break;default:return true}m(a,s,o);e.preventDefault()}function b(e){u=e.target}function S(e,t){for(var n=e.length;n--;)w[E(e[n])]=t;return t}function x(e){var t=[];var n=o.scrollHeight;do{var i=w[E(e)];if(i){return S(t,i)}t.push(e);if(n===e.scrollHeight){if(!r||o.clientHeight+10<n){return S(t,document.body)}}else if(e.clientHeight+10<e.scrollHeight){overflow=getComputedStyle(e,"").getPropertyValue("overflow-y");if(overflow==="scroll"||overflow==="auto"){return S(t,e)}}}while(e=e.parentNode)}function T(e,t,n){window.addEventListener(e,t,n||false)}function N(e,t,n){window.removeEventListener(e,t,n||false)}function C(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function k(e,t){e=e>0?1:-1;t=t>0?1:-1;if(i.x!==e||i.y!==t){i.x=e;i.y=t;p=[];v=0}}function A(e){if(!e)return;e=Math.abs(e);f.push(e);f.shift();clearTimeout(L);var t=O(f[0],120)&&O(f[1],120)&&O(f[2],120);return!t}function O(e,t){return Math.floor(e/t)==e/t}function _(e){var n,r,i;e=e*t.pulseScale;if(e<1){n=e-(1-Math.exp(-e))}else{r=Math.exp(-1);e-=1;i=1-Math.exp(-e);n=r+i*(1-r)}return n*t.pulseNormalize}function D(e){if(e>=1)return 1;if(e<=0)return 0;if(t.pulseNormalize==1){t.pulseNormalize/=_(1)}return _(e)}var e={frameRate:150,animationTime:800,stepSize:120,pulseAlgorithm:true,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:true,arrowScroll:50,touchpadSupport:true,fixedBackground:true,excluded:""};var t=e;var n=false;var r=false;var i={x:0,y:0};var s=false;var o=document.documentElement;var u;var a;var f=[120,120,120];var l={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36};var t=e;var p=[];var d=false;var v=+(new Date);var w={};setInterval(function(){w={}},10*1e3);var E=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}();var L;var M=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,n){window.setTimeout(e,n||1e3/60)}}();var P=/chrome/i.test(window.navigator.userAgent);var H=null;if("onwheel"in document.createElement("div"))H="wheel";else if("onmousewheel"in document.createElement("div"))H="mousewheel";if(H&&P){T(H,g);T("mousedown",b);T("load",h)}})();
/*!
 * miniTip v1.5.3
 * (c) 2011, James Simpson
 * http://goldfirestudios.com
 *
 * Dual licensed under the MIT and GPL
*/
(function(e){e.fn.miniTip=function(t){var n={title:"",content:!1,delay:300,anchor:"n",event:"hover",fadeIn:200,fadeOut:200,aHide:!0,maxW:"250px",offset:5,stemOff:0,doHide:!1},r=e.extend(n,t);e("#miniTip")[0]||e("body").append('<div id="miniTip"><div id="miniTip_t"></div><div id="miniTip_c"></div><div id="miniTip_a"></div></div>');var i=e("#miniTip"),s=e("#miniTip_t"),o=e("#miniTip_c"),u=e("#miniTip_a");return r.doHide?(i.stop(!0,!0).fadeOut(r.fadeOut),!1):this.each(function(){var t=e(this),n=r.content?r.content:t.attr("title");if(n!=""&&typeof n!="undefined"){window.delay=!1;var a=!1,f=!0;r.content||t.removeAttr("title"),r.event=="hover"?(t.hover(function(){i.removeAttr("click"),f=!0,l.call(this)},function(){f=!1,c()}),r.aHide||i.hover(function(){a=!0},function(){a=!1,setTimeout(function(){!f&&!i.attr("click")&&c()},20)})):r.event=="click"&&(r.aHide=!0,t.click(function(){return i.attr("click","t"),i.data("last_target")!==t?l.call(this):i.css("display")=="none"?l.call(this):c(),i.data("last_target",t),e("html").unbind("click").click(function(t){i.css("display")=="block"&&!e(t.target).closest("#miniTip").length&&(e("html").unbind("click"),c())}),!1}));var l=function(){r.show&&r.show.call(this,r),r.content&&r.content!=""&&(n=r.content),o.html(n),r.title!=""?s.html(r.title).show():s.hide(),r.render&&r.render(i),u.removeAttr("class"),i.hide().width("").width(i.width()).css("max-width",r.maxW);var a=t.is("area");if(a){var f,l=[],c=[],h=t.attr("coords").split(",");function p(e,t){return e-t}for(f=0;f<h.length;f++)l.push(h[f++]),c.push(h[f]);var d=t.parent().attr("name"),v=e("img[usemap=\\#"+d+"]").offset(),m=parseInt(v.left,10)+parseInt((parseInt(l.sort(p)[0],10)+parseInt(l.sort(p)[l.length-1],10))/2,10),g=parseInt(v.top,10)+parseInt((parseInt(c.sort(p)[0],10)+parseInt(c.sort(p)[c.length-1],10))/2,10)}else var g=parseInt(t.offset().top,10),m=parseInt(t.offset().left,10);var y=a?0:parseInt(t.outerWidth(),10),b=a?0:parseInt(t.outerHeight(),10),w=i.outerWidth(),E=i.outerHeight(),S=Math.round(m+Math.round((y-w)/2)),x=Math.round(g+b+r.offset+8),T=Math.round(w-16)/2-parseInt(i.css("borderLeftWidth"),10),N=0,C=m+y+w+r.offset+8>parseInt(e(window).width(),10),k=w+r.offset+8>m,L=E+r.offset+8>g-e(window).scrollTop(),A=g+b+E+r.offset+8>parseInt(e(window).height()+e(window).scrollTop(),10),O=r.anchor;if(k||r.anchor=="e"&&!C){if(r.anchor=="w"||r.anchor=="e")O="e",N=Math.round(E/2-8-parseInt(i.css("borderRightWidth"),10)),T=-8-parseInt(i.css("borderRightWidth"),10),S=m+y+r.offset+8,x=Math.round(g+b/2-E/2)}else if(C||r.anchor=="w"&&!k)if(r.anchor=="w"||r.anchor=="e")O="w",N=Math.round(E/2-8-parseInt(i.css("borderLeftWidth"),10)),T=w-parseInt(i.css("borderLeftWidth"),10),S=m-w-r.offset-8,x=Math.round(g+b/2-E/2);if(A||r.anchor=="n"&&!L){if(r.anchor=="n"||r.anchor=="s")O="n",N=E-parseInt(i.css("borderTopWidth"),10),x=g-(E+r.offset+8)}else if(L||r.anchor=="s"&&!A)if(r.anchor=="n"||r.anchor=="s")O="s",N=-8-parseInt(i.css("borderBottomWidth"),10),x=g+b+r.offset+8;r.anchor=="n"||r.anchor=="s"?w/2>m?(S=S<0?T+S:T,T=0):m+w/2>parseInt(e(window).width(),10)&&(S-=T,T*=2):L?(x+=N,N=0):A&&(x-=N,N*=2),u.css({"margin-left":(T>0?T:T+parseInt(r.stemOff,10)/2)+"px","margin-top":N+"px"}).attr("class",O),delay&&clearTimeout(delay),delay=setTimeout(function(){i.css({"margin-left":S+"px","margin-top":x+"px"}).stop(!0,!0).fadeIn(r.fadeIn)},r.delay)},c=function(){if(!r.aHide&&!a||r.aHide)delay&&clearTimeout(delay),delay=setTimeout(function(){h()},r.delay)},h=function(){!r.aHide&&!a||r.aHide?(i.stop(!0,!0).fadeOut(r.fadeOut),r.hide&&r.hide.call(this)):setTimeout(function(){c()},200)}}})}})(jQuery);!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass(m.customClass))if(f.data("placeholder-password")){if(f=f.hide().nextAll('input[type="password"]:first').show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass(m.customClass),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""===e.value){if("password"===e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",g).show()}f.addClass(m.customClass),f[0].value=f.attr("placeholder")}else f.removeClass(m.customClass)}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.valHooks,l=a.propHooks;if(i&&j)g=a.fn.placeholder=function(){return this},g.input=g.textarea=!0;else{var m={};g=a.fn.placeholder=function(b){var e={customClass:"placeholder"};m=a.extend({},e,b);var f=this;return f.filter((i?"textarea":":input")+"[placeholder]").not("."+m.customClass).bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),f},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""===f?(b.value=f,b!=e()&&d.call(b)):g.hasClass(m.customClass)?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(k.input=f,l.value=f),j||(k.textarea=f,l.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a("."+m.customClass,this).each(c);setTimeout(function(){b.each(d)},10)})}),a(window).bind("beforeunload.placeholder",function(){a("."+m.customClass).each(function(){this.value=""})})}});(function(e){var t=function(t,n){var r=e.extend({},e.fn.nivoSlider.defaults,n);var i={currentSlide:0,currentImage:"",totalSlides:0,running:false,paused:false,stop:false,controlNavEl:false};var s=e(t);s.data("nivo:vars",i).addClass("nivoSlider");var o=s.children();o.each(function(){var t=e(this);var n="";if(!t.is("img")){if(t.is("a")){t.addClass("nivo-imageLink");n=t}t=t.find("img:first")}var r=r===0?t.attr("width"):t.width(),s=s===0?t.attr("height"):t.height();if(n!==""){n.css("display","none")}t.css("display","none");i.totalSlides++});if(r.randomStart){r.startSlide=Math.floor(Math.random()*i.totalSlides)}if(r.startSlide>0){if(r.startSlide>=i.totalSlides){r.startSlide=i.totalSlides-1}i.currentSlide=r.startSlide}if(e(o[i.currentSlide]).is("img")){i.currentImage=e(o[i.currentSlide])}else{i.currentImage=e(o[i.currentSlide]).find("img:first")}if(e(o[i.currentSlide]).is("a")){e(o[i.currentSlide]).css("display","block")}var u=e("<img/>").addClass("nivo-main-image");u.attr("src",i.currentImage.attr("src")).show();s.append(u);e(window).resize(function(){s.children("img").width(s.width());u.attr("src",i.currentImage.attr("src"));u.stop().height("auto");e(".nivo-slice").remove();e(".nivo-box").remove()});s.append(e('<div class="nivo-caption"></div>'));var a=function(t){var n=e(".nivo-caption",s);if(i.currentImage.attr("title")!=""&&i.currentImage.attr("title")!=undefined){var r=i.currentImage.attr("title");if(r.substr(0,1)=="#")r=e(r).html();if(n.css("display")=="block"){setTimeout(function(){n.html(r)},t.animSpeed)}else{n.html(r);n.stop().fadeIn(t.animSpeed)}}else{n.stop().fadeOut(t.animSpeed)}};a(r);var f=0;if(!r.manualAdvance&&o.length>1){f=setInterval(function(){d(s,o,r,false)},r.pauseTime)}if(r.directionNav){s.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+r.prevText+'</a><a class="nivo-nextNav">'+r.nextText+"</a></div>");e(s).on("click","a.nivo-prevNav",function(){if(i.running){return false}clearInterval(f);f="";i.currentSlide-=2;d(s,o,r,"prev")});e(s).on("click","a.nivo-nextNav",function(){if(i.running){return false}clearInterval(f);f="";d(s,o,r,"next")})}if(r.controlNav){i.controlNavEl=e('<div class="nivo-controlNav"></div>');s.after(i.controlNavEl);for(var l=0;l<o.length;l++){if(r.controlNavThumbs){i.controlNavEl.addClass("nivo-thumbs-enabled");var c=o.eq(l);if(!c.is("img")){c=c.find("img:first")}if(c.attr("data-thumb"))i.controlNavEl.append('<a class="nivo-control" rel="'+l+'"><img src="'+c.attr("data-thumb")+'" alt="" /></a>')}else{i.controlNavEl.append('<a class="nivo-control" rel="'+l+'">'+(l+1)+"</a>")}}e("a:eq("+i.currentSlide+")",i.controlNavEl).addClass("active");e("a",i.controlNavEl).bind("click",function(){if(i.running)return false;if(e(this).hasClass("active"))return false;clearInterval(f);f="";u.attr("src",i.currentImage.attr("src"));i.currentSlide=e(this).attr("rel")-1;d(s,o,r,"control")})}if(r.pauseOnHover){s.hover(function(){i.paused=true;clearInterval(f);f=""},function(){i.paused=false;if(f===""&&!r.manualAdvance){f=setInterval(function(){d(s,o,r,false)},r.pauseTime)}})}s.bind("nivo:animFinished",function(){u.attr("src",i.currentImage.attr("src"));i.running=false;e(o).each(function(){if(e(this).is("a")){e(this).css("display","none")}});if(e(o[i.currentSlide]).is("a")){e(o[i.currentSlide]).css("display","block")}if(f===""&&!i.paused&&!r.manualAdvance){f=setInterval(function(){d(s,o,r,false)},r.pauseTime)}r.afterChange.call(this)});var h=function(t,n,r){if(e(r.currentImage).parent().is("a"))e(r.currentImage).parent().css("display","block");e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height();for(var s=0;s<n.slices;s++){var o=Math.round(t.width()/n.slices);if(s===n.slices-1){t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:t.width()-o*s+"px",height:i+"px",opacity:"0",overflow:"hidden"}))}else{t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+s*o-o)+'px;" /></div>').css({left:o*s+"px",width:o+"px",height:i+"px",opacity:"0",overflow:"hidden"}))}}e(".nivo-slice",t).height(i);u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)};var p=function(t,n,r){if(e(r.currentImage).parent().is("a"))e(r.currentImage).parent().css("display","block");e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();var i=Math.round(t.width()/n.boxCols),s=Math.round(e('img[src="'+r.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/n.boxRows);for(var o=0;o<n.boxRows;o++){for(var a=0;a<n.boxCols;a++){if(a===n.boxCols-1){t.append(e('<div class="nivo-box" name="'+a+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*a+'px;" /></div>').css({opacity:0,left:i*a+"px",top:s*o+"px",width:t.width()-i*a+"px"}));e('.nivo-box[name="'+a+'"]',t).height(e('.nivo-box[name="'+a+'"] img',t).height()+"px")}else{t.append(e('<div class="nivo-box" name="'+a+'" rel="'+o+'"><img src="'+r.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*o+"px; left:-"+i*a+'px;" /></div>').css({opacity:0,left:i*a+"px",top:s*o+"px",width:i+"px"}));e('.nivo-box[name="'+a+'"]',t).height(e('.nivo-box[name="'+a+'"] img',t).height()+"px")}}}u.stop().animate({height:e(r.currentImage).height()},n.animSpeed)};var d=function(t,n,r,i){var s=t.data("nivo:vars");if(s&&s.currentSlide===s.totalSlides-1){r.lastSlide.call(this)}if((!s||s.stop)&&!i){return false}r.beforeChange.call(this);if(!i){u.attr("src",s.currentImage.attr("src"))}else{if(i==="prev"){u.attr("src",s.currentImage.attr("src"))}if(i==="next"){u.attr("src",s.currentImage.attr("src"))}}s.currentSlide++;if(s.currentSlide===s.totalSlides){s.currentSlide=0;r.slideshowEnd.call(this)}if(s.currentSlide<0){s.currentSlide=s.totalSlides-1}if(e(n[s.currentSlide]).is("img")){s.currentImage=e(n[s.currentSlide])}else{s.currentImage=e(n[s.currentSlide]).find("img:first")}if(r.controlNav){e("a",s.controlNavEl).removeClass("active");e("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active")}a(r);e(".nivo-slice",t).remove();e(".nivo-box",t).remove();var o=r.effect,f="";if(r.effect==="random"){f=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse");o=f[Math.floor(Math.random()*(f.length+1))];if(o===undefined){o="fade"}}if(r.effect.indexOf(",")!==-1){f=r.effect.split(",");o=f[Math.floor(Math.random()*f.length)];if(o===undefined){o="fade"}}if(s.currentImage.attr("data-transition")){o=s.currentImage.attr("data-transition")}s.running=true;var l=0,c=0,d="",m="",g="",y="";if(o==="sliceDown"||o==="sliceDownRight"||o==="sliceDownLeft"){h(t,r,s);l=0;c=0;d=e(".nivo-slice",t);if(o==="sliceDownLeft"){d=e(".nivo-slice",t)._reverse()}d.each(function(){var n=e(this);n.css({top:"0px"});if(c===r.slices-1){setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l)}else{setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l)}l+=50;c++})}else if(o==="sliceUp"||o==="sliceUpRight"||o==="sliceUpLeft"){h(t,r,s);l=0;c=0;d=e(".nivo-slice",t);if(o==="sliceUpLeft"){d=e(".nivo-slice",t)._reverse()}d.each(function(){var n=e(this);n.css({bottom:"0px"});if(c===r.slices-1){setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l)}else{setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l)}l+=50;c++})}else if(o==="sliceUpDown"||o==="sliceUpDownRight"||o==="sliceUpDownLeft"){h(t,r,s);l=0;c=0;var b=0;d=e(".nivo-slice",t);if(o==="sliceUpDownLeft"){d=e(".nivo-slice",t)._reverse()}d.each(function(){var n=e(this);if(c===0){n.css("top","0px");c++}else{n.css("bottom","0px");c=0}if(b===r.slices-1){setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l)}else{setTimeout(function(){n.animate({opacity:"1.0"},r.animSpeed)},100+l)}l+=50;b++})}else if(o==="fold"){h(t,r,s);l=0;c=0;e(".nivo-slice",t).each(function(){var n=e(this);var i=n.width();n.css({top:"0px",width:"0px"});if(c===r.slices-1){setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l)}else{setTimeout(function(){n.animate({width:i,opacity:"1.0"},r.animSpeed)},100+l)}l+=50;c++})}else if(o==="fade"){h(t,r,s);m=e(".nivo-slice:first",t);m.css({width:t.width()+"px"});m.animate({opacity:"1.0"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")})}else if(o==="slideInRight"){h(t,r,s);m=e(".nivo-slice:first",t);m.css({width:"0px",opacity:"1"});m.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){t.trigger("nivo:animFinished")})}else if(o==="slideInLeft"){h(t,r,s);m=e(".nivo-slice:first",t);m.css({width:"0px",opacity:"1",left:"",right:"0px"});m.animate({width:t.width()+"px"},r.animSpeed*2,"",function(){m.css({left:"0px",right:""});t.trigger("nivo:animFinished")})}else if(o==="boxRandom"){p(t,r,s);g=r.boxCols*r.boxRows;c=0;l=0;y=v(e(".nivo-box",t));y.each(function(){var n=e(this);if(c===g-1){setTimeout(function(){n.animate({opacity:"1"},r.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+l)}else{setTimeout(function(){n.animate({opacity:"1"},r.animSpeed)},100+l)}l+=20;c++})}else if(o==="boxRain"||o==="boxRainReverse"||o==="boxRainGrow"||o==="boxRainGrowReverse"){p(t,r,s);g=r.boxCols*r.boxRows;c=0;l=0;var w=0;var E=0;var S=[];S[w]=[];y=e(".nivo-box",t);if(o==="boxRainReverse"||o==="boxRainGrowReverse"){y=e(".nivo-box",t)._reverse()}y.each(function(){S[w][E]=e(this);E++;if(E===r.boxCols){w++;E=0;S[w]=[]}});for(var x=0;x<r.boxCols*2;x++){var T=x;for(var N=0;N<r.boxRows;N++){if(T>=0&&T<r.boxCols){(function(n,i,s,u,a){var f=e(S[n][i]);var l=f.width();var c=f.height();if(o==="boxRainGrow"||o==="boxRainGrowReverse"){f.width(0).height(0)}if(u===a-1){setTimeout(function(){f.animate({opacity:"1",width:l,height:c},r.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+s)}else{setTimeout(function(){f.animate({opacity:"1",width:l,height:c},r.animSpeed/1.3)},100+s)}})(N,T,l,c,g);c++}T--}l+=100}}};var v=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r,10),n=e[--r],e[r]=e[t],e[t]=n);return e};var m=function(e){if(this.console&&typeof console.log!=="undefined"){console.log(e)}};this.stop=function(){if(!e(t).data("nivo:vars").stop){e(t).data("nivo:vars").stop=true;m("Stop Slider")}};this.start=function(){if(e(t).data("nivo:vars").stop){e(t).data("nivo:vars").stop=false;m("Start Slider")}};r.afterLoad.call(this);return this};e.fn.nivoSlider=function(n){return this.each(function(r,i){var s=e(this);if(s.data("nivoslider")){return s.data("nivoslider")}var o=new t(this,n);s.data("nivoslider",o)})};e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:true,controlNav:true,controlNavThumbs:false,pauseOnHover:true,manualAdvance:false,prevText:"Prev",nextText:"Next",randomStart:false,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}};e.fn._reverse=[].reverse})(jQuery);;
/*! Magnific Popup - v0.9.9 - 2014-09-06
* http://dimsemenov.com/plugins/magnific-popup/
* Licensed under the MIT License.
* Copyright (c) 2014 Dmitry Semenov; */
(function(e){var t,n,i,o,r,a,s,l="Close",c="BeforeClose",d="AfterClose",u="BeforeAppend",p="MarkupParse",f="Open",m="Change",g="mfp",h="."+g,v="mfp-ready",C="mfp-removing",y="mfp-prevent-close",w=function(){},b=!!window.jQuery,I=e(window),x=function(e,n){t.ev.on(g+e+h,n)},k=function(t,n,i,o){var r=document.createElement("div");return r.className="mfp-"+t,i&&(r.innerHTML=i),o?n&&n.appendChild(r):(r=e(r),n&&r.appendTo(n)),r},T=function(n,i){t.ev.triggerHandler(g+n,i),t.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),t.st.callbacks[n]&&t.st.callbacks[n].apply(t,e.isArray(i)?i:[i]))},E=function(n){return n===s&&t.currTemplate.closeBtn||(t.currTemplate.closeBtn=e(t.st.closeMarkup.replace("%title%",t.st.tClose)),s=n),t.currTemplate.closeBtn},_=function(){e.magnificPopup.instance||(t=new w,t.init(),e.magnificPopup.instance=t)},S=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1};w.prototype={constructor:w,init:function(){var n=navigator.appVersion;t.isIE7=-1!==n.indexOf("MSIE 7."),t.isIE8=-1!==n.indexOf("MSIE 8."),t.isLowIE=t.isIE7||t.isIE8,t.isAndroid=/android/gi.test(n),t.isIOS=/iphone|ipad|ipod/gi.test(n),t.supportsTransition=S(),t.probablyMobile=t.isAndroid||t.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),o=e(document),t.popupsCache={}},open:function(n){i||(i=e(document.body));var r;if(n.isObj===!1){t.items=n.items.toArray(),t.index=0;var s,l=n.items;for(r=0;l.length>r;r++)if(s=l[r],s.parsed&&(s=s.el[0]),s===n.el[0]){t.index=r;break}}else t.items=e.isArray(n.items)?n.items:[n.items],t.index=n.index||0;if(t.isOpen)return t.updateItemHTML(),void 0;t.types=[],a="",t.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):o,n.key?(t.popupsCache[n.key]||(t.popupsCache[n.key]={}),t.currTemplate=t.popupsCache[n.key]):t.currTemplate={},t.st=e.extend(!0,{},e.magnificPopup.defaults,n),t.fixedContentPos="auto"===t.st.fixedContentPos?!t.probablyMobile:t.st.fixedContentPos,t.st.modal&&(t.st.closeOnContentClick=!1,t.st.closeOnBgClick=!1,t.st.showCloseBtn=!1,t.st.enableEscapeKey=!1),t.bgOverlay||(t.bgOverlay=k("bg").on("click"+h,function(){t.close()}),t.wrap=k("wrap").attr("tabindex",-1).on("click"+h,function(e){t._checkIfClose(e.target)&&t.close()}),t.container=k("container",t.wrap)),t.contentContainer=k("content"),t.st.preloader&&(t.preloader=k("preloader",t.container,t.st.tLoading));var c=e.magnificPopup.modules;for(r=0;c.length>r;r++){var d=c[r];d=d.charAt(0).toUpperCase()+d.slice(1),t["init"+d].call(t)}T("BeforeOpen"),t.st.showCloseBtn&&(t.st.closeBtnInside?(x(p,function(e,t,n,i){n.close_replaceWith=E(i.type)}),a+=" mfp-close-btn-in"):t.wrap.append(E())),t.st.alignTop&&(a+=" mfp-align-top"),t.fixedContentPos?t.wrap.css({overflow:t.st.overflowY,overflowX:"hidden",overflowY:t.st.overflowY}):t.wrap.css({top:I.scrollTop(),position:"absolute"}),(t.st.fixedBgPos===!1||"auto"===t.st.fixedBgPos&&!t.fixedContentPos)&&t.bgOverlay.css({height:o.height(),position:"absolute"}),t.st.enableEscapeKey&&o.on("keyup"+h,function(e){27===e.keyCode&&t.close()}),I.on("resize"+h,function(){t.updateSize()}),t.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&t.wrap.addClass(a);var u=t.wH=I.height(),m={};if(t.fixedContentPos&&t._hasScrollBar(u)){var g=t._getScrollbarSize();g&&(m.marginRight=g)}t.fixedContentPos&&(t.isIE7?e("body, html").css("overflow","hidden"):m.overflow="hidden");var C=t.st.mainClass;return t.isIE7&&(C+=" mfp-ie7"),C&&t._addClassToMFP(C),t.updateItemHTML(),T("BuildControls"),e("html").css(m),t.bgOverlay.add(t.wrap).prependTo(t.st.prependTo||i),t._lastFocusedEl=document.activeElement,setTimeout(function(){t.content?(t._addClassToMFP(v),t._setFocus()):t.bgOverlay.addClass(v),o.on("focusin"+h,t._onFocusIn)},16),t.isOpen=!0,t.updateSize(u),T(f),n},close:function(){t.isOpen&&(T(c),t.isOpen=!1,t.st.removalDelay&&!t.isLowIE&&t.supportsTransition?(t._addClassToMFP(C),setTimeout(function(){t._close()},t.st.removalDelay)):t._close())},_close:function(){T(l);var n=C+" "+v+" ";if(t.bgOverlay.detach(),t.wrap.detach(),t.container.empty(),t.st.mainClass&&(n+=t.st.mainClass+" "),t._removeClassFromMFP(n),t.fixedContentPos){var i={marginRight:""};t.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)}o.off("keyup"+h+" focusin"+h),t.ev.off(h),t.wrap.attr("class","mfp-wrap").removeAttr("style"),t.bgOverlay.attr("class","mfp-bg"),t.container.attr("class","mfp-container"),!t.st.showCloseBtn||t.st.closeBtnInside&&t.currTemplate[t.currItem.type]!==!0||t.currTemplate.closeBtn&&t.currTemplate.closeBtn.detach(),t._lastFocusedEl&&e(t._lastFocusedEl).focus(),t.currItem=null,t.content=null,t.currTemplate=null,t.prevHeight=0,T(d)},updateSize:function(e){if(t.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*n;t.wrap.css("height",i),t.wH=i}else t.wH=e||I.height();t.fixedContentPos||t.wrap.css("height",t.wH),T("Resize")},updateItemHTML:function(){var n=t.items[t.index];t.contentContainer.detach(),t.content&&t.content.detach(),n.parsed||(n=t.parseEl(t.index));var i=n.type;if(T("BeforeChange",[t.currItem?t.currItem.type:"",i]),t.currItem=n,!t.currTemplate[i]){var o=t.st[i]?t.st[i].markup:!1;T("FirstMarkupParse",o),t.currTemplate[i]=o?e(o):!0}r&&r!==n.type&&t.container.removeClass("mfp-"+r+"-holder");var a=t["get"+i.charAt(0).toUpperCase()+i.slice(1)](n,t.currTemplate[i]);t.appendContent(a,i),n.preloaded=!0,T(m,n),r=n.type,t.container.prepend(t.contentContainer),T("AfterChange")},appendContent:function(e,n){t.content=e,e?t.st.showCloseBtn&&t.st.closeBtnInside&&t.currTemplate[n]===!0?t.content.find(".mfp-close").length||t.content.append(E()):t.content=e:t.content="",T(u),t.container.addClass("mfp-"+n+"-holder"),t.contentContainer.append(t.content)},parseEl:function(n){var i,o=t.items[n];if(o.tagName?o={el:e(o)}:(i=o.type,o={data:o,src:o.src}),o.el){for(var r=t.types,a=0;r.length>a;a++)if(o.el.hasClass("mfp-"+r[a])){i=r[a];break}o.src=o.el.attr("data-mfp-src"),o.src||(o.src=o.el.attr("href"))}return o.type=i||t.st.type||"inline",o.index=n,o.parsed=!0,t.items[n]=o,T("ElementParse",o),t.items[n]},addGroup:function(e,n){var i=function(i){i.mfpEl=this,t._openClick(i,e,n)};n||(n={});var o="click.magnificPopup";n.mainEl=e,n.items?(n.isObj=!0,e.off(o).on(o,i)):(n.isObj=!1,n.delegate?e.off(o).on(o,n.delegate,i):(n.items=e,e.off(o).on(o,i)))},_openClick:function(n,i,o){var r=void 0!==o.midClick?o.midClick:e.magnificPopup.defaults.midClick;if(r||2!==n.which&&!n.ctrlKey&&!n.metaKey){var a=void 0!==o.disableOn?o.disableOn:e.magnificPopup.defaults.disableOn;if(a)if(e.isFunction(a)){if(!a.call(t))return!0}else if(a>I.width())return!0;n.type&&(n.preventDefault(),t.isOpen&&n.stopPropagation()),o.el=e(n.mfpEl),o.delegate&&(o.items=i.find(o.delegate)),t.open(o)}},updateStatus:function(e,i){if(t.preloader){n!==e&&t.container.removeClass("mfp-s-"+n),i||"loading"!==e||(i=t.st.tLoading);var o={status:e,text:i};T("UpdateStatus",o),e=o.status,i=o.text,t.preloader.html(i),t.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),t.container.addClass("mfp-s-"+e),n=e}},_checkIfClose:function(n){if(!e(n).hasClass(y)){var i=t.st.closeOnContentClick,o=t.st.closeOnBgClick;if(i&&o)return!0;if(!t.content||e(n).hasClass("mfp-close")||t.preloader&&n===t.preloader[0])return!0;if(n===t.content[0]||e.contains(t.content[0],n)){if(i)return!0}else if(o&&e.contains(document,n))return!0;return!1}},_addClassToMFP:function(e){t.bgOverlay.addClass(e),t.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),t.wrap.removeClass(e)},_hasScrollBar:function(e){return(t.isIE7?o.height():document.body.scrollHeight)>(e||I.height())},_setFocus:function(){(t.st.focus?t.content.find(t.st.focus).eq(0):t.wrap).focus()},_onFocusIn:function(n){return n.target===t.wrap[0]||e.contains(t.wrap[0],n.target)?void 0:(t._setFocus(),!1)},_parseMarkup:function(t,n,i){var o;i.data&&(n=e.extend(i.data,n)),T(p,[t,n,i]),e.each(n,function(e,n){if(void 0===n||n===!1)return!0;if(o=e.split("_"),o.length>1){var i=t.find(h+"-"+o[0]);if(i.length>0){var r=o[1];"replaceWith"===r?i[0]!==n[0]&&i.replaceWith(n):"img"===r?i.is("img")?i.attr("src",n):i.replaceWith('<img src="'+n+'" class="'+i.attr("class")+'" />'):i.attr(o[1],n)}}else t.find(h+"-"+e).html(n)})},_getScrollbarSize:function(){if(void 0===t.scrollbarSize){var e=document.createElement("div");e.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),t.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollbarSize}},e.magnificPopup={instance:null,proto:w.prototype,modules:[],open:function(t,n){return _(),t=t?e.extend(!0,{},t):{},t.isObj=!0,t.index=n||0,this.instance.open(t)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(t,n){n.options&&(e.magnificPopup.defaults[t]=n.options),e.extend(this.proto,n.proto),this.modules.push(t)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},e.fn.magnificPopup=function(n){_();var i=e(this);if("string"==typeof n)if("open"===n){var o,r=b?i.data("magnificPopup"):i[0].magnificPopup,a=parseInt(arguments[1],10)||0;r.items?o=r.items[a]:(o=i,r.delegate&&(o=o.find(r.delegate)),o=o.eq(a)),t._openClick({mfpEl:o},i,r)}else t.isOpen&&t[n].apply(t,Array.prototype.slice.call(arguments,1));else n=e.extend(!0,{},n),b?i.data("magnificPopup",n):i[0].magnificPopup=n,t.addGroup(i,n);return i};var P,O,z,M="inline",B=function(){z&&(O.after(z.addClass(P)).detach(),z=null)};e.magnificPopup.registerModule(M,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){t.types.push(M),x(l+"."+M,function(){B()})},getInline:function(n,i){if(B(),n.src){var o=t.st.inline,r=e(n.src);if(r.length){var a=r[0].parentNode;a&&a.tagName&&(O||(P=o.hiddenClass,O=k(P),P="mfp-"+P),z=r.after(O).detach().removeClass(P)),t.updateStatus("ready")}else t.updateStatus("error",o.tNotFound),r=e("<div>");return n.inlineElement=r,r}return t.updateStatus("ready"),t._parseMarkup(i,{},n),i}}});var F,H="ajax",L=function(){F&&i.removeClass(F)},A=function(){L(),t.req&&t.req.abort()};e.magnificPopup.registerModule(H,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){t.types.push(H),F=t.st.ajax.cursor,x(l+"."+H,A),x("BeforeChange."+H,A)},getAjax:function(n){F&&i.addClass(F),t.updateStatus("loading");var o=e.extend({url:n.src,success:function(i,o,r){var a={data:i,xhr:r};T("ParseAjax",a),t.appendContent(e(a.data),H),n.finished=!0,L(),t._setFocus(),setTimeout(function(){t.wrap.addClass(v)},16),t.updateStatus("ready"),T("AjaxContentAdded")},error:function(){L(),n.finished=n.loadError=!0,t.updateStatus("error",t.st.ajax.tError.replace("%url%",n.src))}},t.st.ajax.settings);return t.req=e.ajax(o),""}}});var j,N=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var i=t.st.image.titleSrc;if(i){if(e.isFunction(i))return i.call(t,n);if(n.el)return n.el.attr(i)||""}return""};e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=t.st.image,n=".image";t.types.push("image"),x(f+n,function(){"image"===t.currItem.type&&e.cursor&&i.addClass(e.cursor)}),x(l+n,function(){e.cursor&&i.removeClass(e.cursor),I.off("resize"+h)}),x("Resize"+n,t.resizeImage),t.isLowIE&&x("AfterChange",t.resizeImage)},resizeImage:function(){var e=t.currItem;if(e&&e.img&&t.st.image.verticalFit){var n=0;t.isLowIE&&(n=parseInt(e.img.css("padding-top"),10)+parseInt(e.img.css("padding-bottom"),10)),e.img.css("max-height",t.wH-n)}},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,j&&clearInterval(j),e.isCheckingImgSize=!1,T("ImageHasSize",e),e.imgHidden&&(t.content&&t.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(e){var n=0,i=e.img[0],o=function(r){j&&clearInterval(j),j=setInterval(function(){return i.naturalWidth>0?(t._onImageHasSize(e),void 0):(n>200&&clearInterval(j),n++,3===n?o(10):40===n?o(50):100===n&&o(500),void 0)},r)};o(1)},getImage:function(n,i){var o=0,r=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,T("ImageLoadComplete")):(o++,200>o?setTimeout(r,100):a()))},a=function(){n&&(n.img.off(".mfploader"),n===t.currItem&&(t._onImageHasSize(n),t.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=t.st.image,l=i.find(".mfp-img");if(l.length){var c=document.createElement("img");c.className="mfp-img",n.img=e(c).on("load.mfploader",r).on("error.mfploader",a),c.src=n.src,l.is("img")&&(n.img=n.img.clone()),c=n.img[0],c.naturalWidth>0?n.hasSize=!0:c.width||(n.hasSize=!1)}return t._parseMarkup(i,{title:N(n),img_replaceWith:n.img},n),t.resizeImage(),n.hasSize?(j&&clearInterval(j),n.loadError?(i.addClass("mfp-loading"),t.updateStatus("error",s.tError.replace("%url%",n.src))):(i.removeClass("mfp-loading"),t.updateStatus("ready")),i):(t.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,i.addClass("mfp-loading"),t.findImageSize(n)),i)}}});var W,R=function(){return void 0===W&&(W=void 0!==document.createElement("p").style.MozTransform),W};e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,n=t.st.zoom,i=".zoom";if(n.enabled&&t.supportsTransition){var o,r,a=n.duration,s=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+n.duration/1e3+"s "+n.easing,o={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return o["-webkit-"+r]=o["-moz-"+r]=o["-o-"+r]=o[r]=i,t.css(o),t},d=function(){t.content.css("visibility","visible")};x("BuildControls"+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.content.css("visibility","hidden"),e=t._getItemToZoom(),!e)return d(),void 0;r=s(e),r.css(t._getOffset()),t.wrap.append(r),o=setTimeout(function(){r.css(t._getOffset(!0)),o=setTimeout(function(){d(),setTimeout(function(){r.remove(),e=r=null,T("ZoomAnimationEnded")},16)},a)},16)}}),x(c+i,function(){if(t._allowZoom()){if(clearTimeout(o),t.st.removalDelay=a,!e){if(e=t._getItemToZoom(),!e)return;r=s(e)}r.css(t._getOffset(!0)),t.wrap.append(r),t.content.css("visibility","hidden"),setTimeout(function(){r.css(t._getOffset())},16)}}),x(l+i,function(){t._allowZoom()&&(d(),r&&r.remove(),e=null)})}},_allowZoom:function(){return"image"===t.currItem.type},_getItemToZoom:function(){return t.currItem.hasSize?t.currItem.img:!1},_getOffset:function(n){var i;i=n?t.currItem.img:t.st.zoom.opener(t.currItem.el||t.currItem);var o=i.offset(),r=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10);o.top-=e(window).scrollTop()-r;var s={width:i.width(),height:(b?i.innerHeight():i[0].offsetHeight)-a-r};return R()?s["-moz-transform"]=s.transform="translate("+o.left+"px,"+o.top+"px)":(s.left=o.left,s.top=o.top),s}}});var Z="iframe",q="//about:blank",D=function(e){if(t.currTemplate[Z]){var n=t.currTemplate[Z].find("iframe");n.length&&(e||(n[0].src=q),t.isIE8&&n.css("display",e?"block":"none"))}};e.magnificPopup.registerModule(Z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){t.types.push(Z),x("BeforeChange",function(e,t,n){t!==n&&(t===Z?D():n===Z&&D(!0))}),x(l+"."+Z,function(){D()})},getIframe:function(n,i){var o=n.src,r=t.st.iframe;e.each(r.patterns,function(){return o.indexOf(this.index)>-1?(this.id&&(o="string"==typeof this.id?o.substr(o.lastIndexOf(this.id)+this.id.length,o.length):this.id.call(this,o)),o=this.src.replace("%id%",o),!1):void 0});var a={};return r.srcAction&&(a[r.srcAction]=o),t._parseMarkup(i,a,n),t.updateStatus("ready"),i}}});var K=function(e){var n=t.items.length;return e>n-1?e-n:0>e?n+e:e},Y=function(e,t,n){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,n)};e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=t.st.gallery,i=".mfp-gallery",r=Boolean(e.fn.mfpFastClick);return t.direction=!0,n&&n.enabled?(a+=" mfp-gallery",x(f+i,function(){n.navigateByImgClick&&t.wrap.on("click"+i,".mfp-img",function(){return t.items.length>1?(t.next(),!1):void 0}),o.on("keydown"+i,function(e){37===e.keyCode?t.prev():39===e.keyCode&&t.next()})}),x("UpdateStatus"+i,function(e,n){n.text&&(n.text=Y(n.text,t.currItem.index,t.items.length))}),x(p+i,function(e,i,o,r){var a=t.items.length;o.counter=a>1?Y(n.tCounter,r.index,a):""}),x("BuildControls"+i,function(){if(t.items.length>1&&n.arrows&&!t.arrowLeft){var i=n.arrowMarkup,o=t.arrowLeft=e(i.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(y),a=t.arrowRight=e(i.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(y),s=r?"mfpFastClick":"click";o[s](function(){t.prev()}),a[s](function(){t.next()}),t.isIE7&&(k("b",o[0],!1,!0),k("a",o[0],!1,!0),k("b",a[0],!1,!0),k("a",a[0],!1,!0)),t.container.append(o.add(a))}}),x(m+i,function(){t._preloadTimeout&&clearTimeout(t._preloadTimeout),t._preloadTimeout=setTimeout(function(){t.preloadNearbyImages(),t._preloadTimeout=null},16)}),x(l+i,function(){o.off(i),t.wrap.off("click"+i),t.arrowLeft&&r&&t.arrowLeft.add(t.arrowRight).destroyMfpFastClick(),t.arrowRight=t.arrowLeft=null}),void 0):!1},next:function(){t.direction=!0,t.index=K(t.index+1),t.updateItemHTML()},prev:function(){t.direction=!1,t.index=K(t.index-1),t.updateItemHTML()},goTo:function(e){t.direction=e>=t.index,t.index=e,t.updateItemHTML()},preloadNearbyImages:function(){var e,n=t.st.gallery.preload,i=Math.min(n[0],t.items.length),o=Math.min(n[1],t.items.length);for(e=1;(t.direction?o:i)>=e;e++)t._preloadItem(t.index+e);for(e=1;(t.direction?i:o)>=e;e++)t._preloadItem(t.index-e)},_preloadItem:function(n){if(n=K(n),!t.items[n].preloaded){var i=t.items[n];i.parsed||(i=t.parseEl(n)),T("LazyLoad",i),"image"===i.type&&(i.img=e('<img class="mfp-img" />').on("load.mfploader",function(){i.hasSize=!0}).on("error.mfploader",function(){i.hasSize=!0,i.loadError=!0,T("LazyLoadError",i)}).attr("src",i.src)),i.preloaded=!0}}}});var U="retina";e.magnificPopup.registerModule(U,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var e=t.st.retina,n=e.ratio;n=isNaN(n)?n():n,n>1&&(x("ImageHasSize."+U,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),x("ElementParse."+U,function(t,i){i.src=e.replaceSrc(i,n)}))}}}}),function(){var t=1e3,n="ontouchstart"in window,i=function(){I.off("touchmove"+r+" touchend"+r)},o="mfpFastClick",r="."+o;e.fn.mfpFastClick=function(o){return e(this).each(function(){var a,s=e(this);if(n){var l,c,d,u,p,f;s.on("touchstart"+r,function(e){u=!1,f=1,p=e.originalEvent?e.originalEvent.touches[0]:e.touches[0],c=p.clientX,d=p.clientY,I.on("touchmove"+r,function(e){p=e.originalEvent?e.originalEvent.touches:e.touches,f=p.length,p=p[0],(Math.abs(p.clientX-c)>10||Math.abs(p.clientY-d)>10)&&(u=!0,i())}).on("touchend"+r,function(e){i(),u||f>1||(a=!0,e.preventDefault(),clearTimeout(l),l=setTimeout(function(){a=!1},t),o())})})}s.on("click"+r,function(){a||o()})})},e.fn.destroyMfpFastClick=function(){e(this).off("touchstart"+r+" click"+r),n&&I.off("touchmove"+r+" touchend"+r)}}(),_()})(window.jQuery||window.Zepto);jQuery(document).ready(function(){jQuery('.single_post a, .type-attachment a, .WP_Editor_Widget a').has('img').addClass('hasimg');jQuery('body.single .imgwrap a, .gall_dash .hasimg, .gallery-item a, .woocommerce .type-product .hasimg, .tiled-gallery-item .hasimg').removeClass('hasimg');jQuery(".hasimg[href$='.jpg'], .hasimg[href$='.png'], .hasimg[href$='.gif']").magnificPopup({type:'image',image:{titleSrc:'title'},zoom:{enabled:true,duration:300,opener:function(element){return element.find('img');}}});jQuery(".imgzoom[href$='.jpg'], .imgzoom[href$='.png'], .imgzoom[href$='.gif']").magnificPopup({type:'image',image:{titleSrc:'data-title'}});jQuery('.hasimg img').each(function(){var lghtalt=jQuery(this).attr('alt');jQuery(this).parent().attr('title',lghtalt);});jQuery('.gallery-item').each(function(){var lghtalt=jQuery(this).find('.gallery-caption').text();jQuery(this).find('img').parent().attr('title',lghtalt);});jQuery('.gallery-item').magnificPopup({delegate:'a',type:'image',gallery:{enabled:true},image:{titleSrc:'title'},zoom:{enabled:true,duration:300,opener:function(element){return element.find('img');}}});jQuery('.lts_lightbox_bttn:eq(0)').magnificPopup({items:{src:'.lts_lightbox_content:eq(0)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(1)').magnificPopup({items:{src:'.lts_lightbox_content:eq(1)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(2)').magnificPopup({items:{src:'.lts_lightbox_content:eq(2)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(3)').magnificPopup({items:{src:'.lts_lightbox_content:eq(3)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(4)').magnificPopup({items:{src:'.lts_lightbox_content:eq(4)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(5)').magnificPopup({items:{src:'.lts_lightbox_content:eq(5)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(6)').magnificPopup({items:{src:'.lts_lightbox_content:eq(6)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(7)').magnificPopup({items:{src:'.lts_lightbox_content:eq(7)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(8)').magnificPopup({items:{src:'.lts_lightbox_content:eq(8)',type:'inline'},zoom:{enabled:true,duration:300}});jQuery('.lts_lightbox_bttn:eq(9)').magnificPopup({items:{src:'.lts_lightbox_content:eq(9)',type:'inline'},zoom:{enabled:true,duration:300}});});